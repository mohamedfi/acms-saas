import{r as c,j as e,H as D,L as h,a as u}from"./app-B-_sQ5Ew.js";import{A as B}from"./AuthenticatedLayout-BZ9po9pU.js";import"./ApplicationLogo-D0FnSx5q.js";import"./transition-DZ1ZQoZs.js";function M({tasks:l,employees:f,courses:E,filters:a={}}){const[o,y]=c.useState((a==null?void 0:a.search)||""),[x,j]=c.useState((a==null?void 0:a.assigned_to)||""),[m,p]=c.useState((a==null?void 0:a.status)||""),[g,b]=c.useState((a==null?void 0:a.priority)||""),[v,N]=c.useState((a==null?void 0:a.task_type)||""),k=()=>{const t={};o&&(t.search=o),x&&(t.assigned_to=x),m&&(t.status=m),g&&(t.priority=g),v&&(t.task_type=v),u.get(route("tasks.index"),t,{preserveState:!0,preserveScroll:!0})},w=()=>{y(""),j(""),p(""),b(""),N(""),u.get(route("tasks.index"))},_=t=>{confirm(`Are you sure you want to delete "${t.title}"?`)&&u.delete(route("tasks.destroy",t.id))},S=t=>{const r={pending:{class:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",emoji:"â³",text:"Pending"},in_progress:{class:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",emoji:"ğŸ”„",text:"In Progress"},completed:{class:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",emoji:"âœ…",text:"Completed"},cancelled:{class:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",emoji:"âŒ",text:"Cancelled"},done:{class:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",emoji:"âœ…",text:"Done"},blocked:{class:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200",emoji:"ğŸš«",text:"Blocked"}},s=r[t]||r.pending;return e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.class}`,children:[s.emoji," ",s.text]})},T=t=>{const r={low:{class:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200",emoji:"ğŸ”½",text:"Low"},normal:{class:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",emoji:"â–",text:"Normal"},medium:{class:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",emoji:"â–",text:"Medium"},high:{class:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",emoji:"ğŸ”º",text:"High"},urgent:{class:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",emoji:"ğŸš¨",text:"Urgent"}},s=r[t]||r.normal;return e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.class}`,children:[s.emoji," ",s.text]})},C=t=>{const s={"course-related":{emoji:"ğŸ“",text:"Course"},administrative:{emoji:"ğŸ“‹",text:"Admin"},financial:{emoji:"ğŸ’°",text:"Finance"},general:{emoji:"ğŸ“",text:"General"}}[t]||{emoji:"ğŸ“",text:"General"};return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",children:[s.emoji," ",s.text]})},P=t=>{if(!t)return"Not set";const r=new Date(t),s=r<new Date&&t,i=s?"text-red-600 dark:text-red-400 font-medium":"text-gray-900 dark:text-gray-100";return e.jsxs("span",{className:i,children:["ğŸ“… ",r.toLocaleDateString(),s&&" âš ï¸"]})},n=(()=>{const t=l.length,r=l.filter(d=>["pending"].includes(d.status)).length,s=l.filter(d=>["in_progress"].includes(d.status)).length,i=l.filter(d=>["completed","done"].includes(d.status)).length,A=l.filter(d=>d.due_date&&new Date(d.due_date)<new Date&&!["completed","done","cancelled"].includes(d.status)).length;return{total:t,pending:r,inProgress:s,completed:i,overdue:A}})();return e.jsxs(B,{header:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200",children:"ğŸ“‹ Task Management"}),e.jsx(h,{href:route("tasks.create"),className:"inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors duration-200",children:"â• Create Task"})]}),children:[e.jsx(D,{title:"Tasks"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"text-2xl",children:"ğŸ“‹"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Tasks"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:n.total})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"text-2xl",children:"â³"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Pending"}),e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:n.pending})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"text-2xl",children:"ğŸ”„"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"In Progress"}),e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:n.inProgress})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"text-2xl",children:"âœ…"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Completed"}),e.jsx("div",{className:"text-2xl font-bold text-green-600",children:n.completed})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"text-2xl",children:"âš ï¸"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Overdue"}),e.jsx("div",{className:"text-2xl font-bold text-red-600",children:n.overdue})]})]})})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg mb-6",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ğŸ” Search"}),e.jsx("input",{type:"text",value:o,onChange:t=>y(t.target.value),onKeyPress:t=>t.key==="Enter"&&k(),placeholder:"Search tasks...",className:"w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ğŸ‘¤ Assigned To"}),e.jsxs("select",{value:x,onChange:t=>j(t.target.value),className:"w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",children:[e.jsx("option",{value:"",children:"All Employees"}),f.map(t=>e.jsx("option",{value:t.id,children:t.full_name},t.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ğŸ“Š Status"}),e.jsxs("select",{value:m,onChange:t=>p(t.target.value),className:"w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"}),e.jsx("option",{value:"done",children:"Done"}),e.jsx("option",{value:"blocked",children:"Blocked"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ğŸ”º Priority"}),e.jsxs("select",{value:g,onChange:t=>b(t.target.value),className:"w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",children:[e.jsx("option",{value:"",children:"All Priorities"}),e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"normal",children:"Normal"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"urgent",children:"Urgent"})]})]}),e.jsx("div",{className:"flex items-end space-x-2",children:e.jsx("button",{onClick:k,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors duration-200",children:"ğŸ” Filter"})}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:w,className:"w-full px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white text-sm font-medium rounded-lg transition-colors duration-200",children:"ğŸ—‘ï¸ Clear"})})]})})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:["Tasks (",l.length,")"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Task"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Assigned To"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Priority & Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status & Due Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:l.length>0?l.map(t=>{var r,s,i;return e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"max-w-xs",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 mb-1",children:t.title}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:t.description}),t.course&&e.jsxs("div",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:["ğŸ“ ",t.course.course_name]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.assigned_to?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-8 w-8",children:e.jsxs("div",{className:"h-8 w-8 rounded-full bg-gradient-to-r from-blue-400 to-purple-500 flex items-center justify-center text-white font-bold text-xs",children:[(r=t.assigned_to.first_name)==null?void 0:r.charAt(0),(s=t.assigned_to.last_name)==null?void 0:s.charAt(0)]})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:t.assigned_to.full_name}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:(i=t.assigned_to.role)==null?void 0:i.display_name})]})]}):e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Unassigned"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"space-y-2",children:[T(t.priority),C(t.task_type)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"space-y-2",children:[S(t.status),e.jsx("div",{className:"text-xs",children:P(t.due_date)})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(h,{href:route("tasks.show",t.id),className:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300",children:"ğŸ‘ï¸"}),e.jsx(h,{href:route("tasks.edit",t.id),className:"text-yellow-600 hover:text-yellow-900 dark:text-yellow-400 dark:hover:text-yellow-300",children:"âœï¸"}),e.jsx("button",{onClick:()=>_(t),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:"ğŸ—‘ï¸"})]})})]},t.id)}):e.jsx("tr",{children:e.jsxs("td",{colSpan:"5",className:"px-6 py-12 text-center text-gray-500 dark:text-gray-400",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ğŸ“‹"}),e.jsx("div",{className:"text-lg font-medium mb-2",children:"No tasks found"}),e.jsx("div",{className:"text-sm",children:a&&Object.values(a).some(Boolean)?"Try adjusting your filters":"Get started by creating your first task"})]})})})]})})]})})]})})]})}export{M as default};
