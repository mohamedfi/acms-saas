import{u as m,r as v,j as e,H as w,L as x}from"./app-CR6Cccup.js";import{A as N}from"./AuthenticatedLayout-hRvAu0dY.js";import"./ApplicationLogo-C8egk-yV.js";import"./transition-CwUFHmZ4.js";function U({auth:u,user:t,roles:b,employees:p}){const{data:a,setData:d,put:h,processing:n,errors:s}=m({name:t.name||"",email:t.email||"",role_id:t.role_id||"",employee_id:t.employee_id||"",phone:t.phone||"",is_active:t.is_active!==void 0?t.is_active:!0}),[o,y]=v.useState(!1),{data:l,setData:c,post:f,processing:g,errors:i,reset:_}=m({password:"",password_confirmation:""}),j=r=>{r.preventDefault(),h(route("user-management.users.update",t.id))},k=r=>{r.preventDefault(),f(route("user-management.users.password",t.id))};return e.jsxs(N,{user:u.user,header:e.jsxs("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:["Edit User: ",t.name]}),children:[e.jsx(w,{title:`Edit User: ${t.name}`}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-2xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6 text-gray-900 dark:text-gray-100",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Edit User Account"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Update user information and permissions."})]}),e.jsx(x,{href:route("user-management.users"),className:"inline-flex items-center px-4 py-2 bg-gray-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 focus:bg-gray-700 active:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150",children:"← Back to Users"})]})}),e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Full Name *"}),e.jsx("input",{type:"text",id:"name",value:a.name,onChange:r=>d("name",r.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),s.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:s.name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address *"}),e.jsx("input",{type:"email",id:"email",value:a.email,onChange:r=>d("email",r.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),s.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:s.email})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"role_id",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Role *"}),e.jsxs("select",{id:"role_id",value:a.role_id,onChange:r=>d("role_id",r.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Select a role"}),b.map(r=>e.jsxs("option",{value:r.id,selected:r.id==a.role_id,children:[r.display_name||r.name," ","- ",r.description]},r.id))]}),s.role_id&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:s.role_id})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"employee_id",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Link to Employee (Optional)"}),e.jsxs("select",{id:"employee_id",value:a.employee_id,onChange:r=>d("employee_id",r.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"No employee link"}),p.map(r=>e.jsxs("option",{value:r.id,children:["👤 ",r.first_name," ",r.last_name," -"," ",r.position]},r.id))]}),s.employee_id&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:s.employee_id})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",id:"phone",value:a.phone,onChange:r=>d("phone",r.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),s.phone&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:s.phone})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Account Status"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:a.is_active,onChange:r=>d("is_active",r.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-900 dark:text-gray-100",children:"Active (user can log in)"})]}),s.is_active&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:s.is_active})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[e.jsx(x,{href:route("user-management.users"),className:"inline-flex items-center px-4 py-2 bg-gray-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 focus:bg-gray-700 active:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:n,className:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-700 focus:bg-blue-700 active:bg-blue-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150 disabled:opacity-50",children:n?"Updating...":"Update User"})]})]}),e.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4",children:"Change Password"}),e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"new_password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:o?"text":"password",id:"new_password",value:l.password,onChange:r=>c("password",r.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 pr-10 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",minLength:8}),e.jsx("button",{type:"button",onClick:()=>y(!o),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:o?"🙈":"👁️"})]}),i.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:i.password})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirm_password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirm New Password"}),e.jsx("input",{type:"password",id:"confirm_password",value:l.password_confirmation,onChange:r=>c("password_confirmation",r.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",minLength:8}),i.password_confirmation&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:i.password_confirmation})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:g,className:"inline-flex items-center px-4 py-2 bg-green-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 focus:bg-green-700 active:bg-green-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150 disabled:opacity-50",children:g?"Changing...":"Change Password"})})]})]})]})})})})]})}export{U as default};
