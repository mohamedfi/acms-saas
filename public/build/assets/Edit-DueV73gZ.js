import{u as j,j as e,H as x}from"./app-B-_sQ5Ew.js";import{A as m}from"./AuthenticatedLayout-BZ9po9pU.js";import{I as i}from"./InputError-BUJtS5_y.js";import{I as o}from"./InputLabel-rVSAoWhj.js";import{T as n}from"./TextInput-Ckn4GPOX.js";import{P as b}from"./PrimaryButton-D29RI2B6.js";import"./ApplicationLogo-D0FnSx5q.js";import"./transition-DZ1ZQoZs.js";function E({mealBreakPlan:t}){console.log("Edit component rendering with data:",t);const{data:s,setData:a,put:u,processing:c,errors:r}=j({name:(t==null?void 0:t.name)||"",description:(t==null?void 0:t.description)||"",start_date:t!=null&&t.start_date?t.start_date.split("T")[0]:"",end_date:t!=null&&t.end_date?t.end_date.split("T")[0]:"",notes:(t==null?void 0:t.notes)||"",status:(t==null?void 0:t.status)||"draft"}),g=d=>{d.preventDefault(),u(`/pmec2/public/catering/meal-break-plans/${t.id}`)},l=()=>{if(s.start_date&&s.end_date){const d=new Date(s.start_date),h=new Date(s.end_date),p=Math.abs(h-d);return Math.ceil(p/(1e3*60*60*24))+1}return 0};return t?e.jsxs(m,{children:[e.jsx(x,{title:`Edit Meal Break Plan: ${t.name}`}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6 text-gray-900 dark:text-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-2xl font-semibold",children:["‚úèÔ∏è Edit Meal Break Plan:"," ",t.name]}),e.jsx("a",{href:`/pmec2/public/catering/meal-break-plans/${t.id}`,className:"text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100",children:"‚Üê Back to Plan"})]}),e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"name",value:"Plan Name"}),e.jsx(n,{id:"name",type:"text",name:"name",value:s.name,className:"mt-1 block w-full",onChange:d=>a("name",d.target.value),placeholder:"e.g., August 2025 Meal Break Plan",required:!0}),e.jsx(i,{message:r.name,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"status",value:"Status"}),e.jsxs("select",{id:"status",name:"status",value:s.status,onChange:d=>a("status",d.target.value),className:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-100 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",children:[e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]}),e.jsx(i,{message:r.status,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"start_date",value:"Start Date"}),e.jsx(n,{id:"start_date",type:"date",name:"start_date",value:s.start_date,className:"mt-1 block w-full",onChange:d=>a("start_date",d.target.value),required:!0}),e.jsx(i,{message:r.start_date,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"end_date",value:"End Date"}),e.jsx(n,{id:"end_date",type:"date",name:"end_date",value:s.end_date,className:"mt-1 block w-full",onChange:d=>a("end_date",d.target.value),min:s.start_date,required:!0}),e.jsx(i,{message:r.end_date,className:"mt-2"})]})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"description",value:"Description (Optional)"}),e.jsx(n,{id:"description",type:"text",name:"description",value:s.description,className:"mt-1 block w-full",onChange:d=>a("description",d.target.value),placeholder:"Brief description of the plan"}),e.jsx(i,{message:r.description,className:"mt-2"})]}),l()>0&&e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"text-blue-600 dark:text-blue-400 text-lg mr-2",children:"üìÖ"}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-blue-800 dark:text-blue-200 font-medium",children:["Period Duration:"," ",l()," days"]}),e.jsxs("div",{className:"text-blue-600 dark:text-blue-400 text-sm",children:["From ",s.start_date," to"," ",s.end_date]})]})]})}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"notes",value:"Notes (Optional)"}),e.jsx("textarea",{id:"notes",name:"notes",value:s.notes,className:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-100 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",rows:"4",onChange:d=>a("notes",d.target.value),placeholder:"Additional notes or special instructions..."}),e.jsx(i,{message:r.notes,className:"mt-2"})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[e.jsx("a",{href:`/pmec2/public/catering/meal-break-plans/${t.id}`,className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Cancel"}),e.jsx(b,{className:"ml-4",disabled:c||!s.name||!s.start_date||!s.end_date,children:c?"Updating...":"Update Meal Break Plan"})]})]})]})})})})]}):e.jsxs(m,{children:[e.jsx(x,{title:"Meal Break Plan Not Found"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"‚ùå"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Plan Not Found"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"The meal break plan you're trying to edit doesn't exist."}),e.jsx("a",{href:"/pmec2/public/catering/meal-break-plans",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition-colors",children:"Back to Plans"})]})})})})]})}export{E as default};
