import{r as m,j as e,H as k,L as o}from"./app-DF8BeOs5.js";import{A as _}from"./AuthenticatedLayout-BClcgEtp.js";import{C as i,b as n,c,a as d,B as g}from"./badge-CiSagMGu.js";import{B as u}from"./button-zqXozVSg.js";import"./ApplicationLogo-BvOWYT9S.js";import"./transition-DmP4YiK4.js";function B({auth:N,hall:t}){var h;const[l,f]=m.useState("overview"),[r,b]=m.useState(null);m.useEffect(()=>{if(t.bookings&&t.bookings.length>0){const s={},a={};t.bookings.forEach(x=>{var y;const p=new Date(x.start_date).toLocaleString("default",{month:"short"});s[p]=(s[p]||0)+1;const j=((y=x.training_program)==null?void 0:y.name)||"Unknown";a[j]=(a[j]||0)+1}),b({monthly:s,programs:a})}},[t]);const v=s=>{switch(s){case"scheduled":return"bg-blue-100 text-blue-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},w=s=>{switch(s){case"manager":return"bg-purple-100 text-purple-800";case"coordinator":return"bg-blue-100 text-blue-800";case"supervisor":return"bg-green-100 text-green-800";case"assistant":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs(_,{user:N.user,children:[e.jsx(k,{title:`Training Hall - ${t.name}`}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:t.name}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:["Code: ",t.code," • ",t.city]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(o,{href:route("training-halls.edit",t.id),children:e.jsx(u,{variant:"default",className:"bg-blue-600 hover:bg-blue-700 border-blue-600",children:"📝 Edit"})}),e.jsx(o,{href:route("training-halls.pdf",t.id),children:e.jsx(u,{children:"📊 Export PDF"})})]})]}),e.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 mb-6",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:["overview","bookings","analytics"].map(s=>e.jsx("button",{onClick:()=>f(s),className:`py-2 px-1 border-b-2 font-medium text-sm capitalize ${l===s?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:s},s))})}),l==="overview"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(i,{children:[e.jsx(n,{children:e.jsx(c,{className:"flex items-center",children:"🏢 Basic Information"})}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Status"}),e.jsx("div",{className:"mt-1",children:e.jsx(g,{className:t.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:t.is_active?"Active":"Inactive"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Capacity"}),e.jsxs("p",{className:"mt-1 text-lg font-semibold",children:[t.capacity," participants"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Description"}),e.jsx("p",{className:"mt-1 text-gray-700 dark:text-gray-300",children:t.description||"No description available"})]})]})]}),e.jsxs(i,{children:[e.jsx(n,{children:e.jsx(c,{className:"flex items-center",children:"📍 Location & Contact"})}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Address"}),e.jsx("p",{className:"mt-1 text-gray-700 dark:text-gray-300",children:t.address||"No address available"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"City"}),e.jsx("p",{className:"mt-1 text-gray-700 dark:text-gray-300",children:t.city})]}),t.contact_person&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Contact Person"}),e.jsx("p",{className:"mt-1 text-gray-700 dark:text-gray-300",children:t.contact_person})]}),t.contact_phone&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Phone"}),e.jsx("p",{className:"mt-1 text-gray-700 dark:text-gray-300",children:t.contact_phone})]}),t.contact_email&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Email"}),e.jsx("p",{className:"mt-1 text-gray-700 dark:text-gray-300",children:t.contact_email})]})]})]}),e.jsxs(i,{children:[e.jsx(n,{children:e.jsx(c,{className:"flex items-center",children:"👤 Employee Assignment"})}),e.jsx(d,{className:"space-y-4",children:t.assigned_employee?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Assigned Employee"}),e.jsx("p",{className:"mt-1 text-gray-700 dark:text-gray-300",children:t.assigned_employee.full_name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Role"}),e.jsx("div",{className:"mt-1",children:e.jsx(g,{className:w(t.assigned_role),children:t.assigned_role||"Not specified"})})]}),t.assignment_date&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Assignment Date"}),e.jsx("p",{className:"mt-1 text-gray-700 dark:text-gray-300",children:new Date(t.assignment_date).toLocaleDateString()})]}),t.assignment_notes&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Notes"}),e.jsx("p",{className:"mt-1 text-gray-700 dark:text-gray-300",children:t.assignment_notes})]})]}):e.jsx("p",{className:"text-gray-500",children:"No employee assigned"})})]})]}),l==="bookings"&&e.jsxs(i,{children:[e.jsx(n,{children:e.jsxs(c,{className:"flex items-center",children:["📅 Training Sessions (",((h=t.bookings)==null?void 0:h.length)||0,")"]})}),e.jsx(d,{children:t.bookings&&t.bookings.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Program"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Participants"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:t.bookings.map(s=>{var a,x;return e.jsxs("tr",{children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:((a=s.training_program)==null?void 0:a.name)||"Unknown Program"}),e.jsx("div",{className:"text-sm text-gray-500",children:((x=s.training_program)==null?void 0:x.code)||"No Code"})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:new Date(s.start_date).toLocaleDateString()}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[s.start_time," ","-"," ",s.end_time]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[s.current_participants,"/",s.max_participants]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx(g,{className:v(s.status),children:s.status.replace("_"," ")})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsx(o,{href:route("hall-bookings.show",s.id),className:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300",children:"View"})})]},s.id)})})]})}):e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No bookings found for this hall."})})]}),l==="analytics"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(i,{children:[e.jsx(n,{children:e.jsx(c,{children:"Monthly Bookings"})}),e.jsx(d,{children:r!=null&&r.monthly?e.jsx("div",{className:"space-y-3",children:Object.entries(r.monthly).map(([s,a])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:s}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${a/Math.max(...Object.values(r.monthly))*100}%`}})}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white w-8 text-right",children:a})]})]},s))}):e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No data available for charts"})})]}),e.jsxs(i,{children:[e.jsx(n,{children:e.jsx(c,{children:"Program Distribution"})}),e.jsx(d,{children:r!=null&&r.programs?e.jsx("div",{className:"space-y-3",children:Object.entries(r.programs).map(([s,a])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 truncate max-w-32",children:s}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${a/Math.max(...Object.values(r.programs))*100}%`}})}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white w-8 text-right",children:a})]})]},s))}):e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No data available for charts"})})]})]})]})})]})}export{B as default};
