import{r as m,u as A,j as e,H as E,L as d,a as D}from"./app-BLl8wz7X.js";import{A as T}from"./AuthenticatedLayout-BBmj54qy.js";import"./ApplicationLogo-CLUV3Fv9.js";import"./transition-B5m-iN7L.js";function R({certificates:r,stats:l,courses:f,filters:i}){const[h,j]=m.useState(i.search||""),[g,b]=m.useState(i.status||"all"),[u,v]=m.useState(i.course||"all"),[a,c]=m.useState([]),{data:F,setData:p,post:N,processing:k}=A({search:h,status:g,course:u,sort:i.sort||"created_at",order:i.order||"desc"}),w=t=>{t.preventDefault(),p("search",h),p("status",g),p("course",u),N(route("certificates.index"),{preserveState:!0,preserveScroll:!0})},y=t=>{if(console.log("Bulk action triggered:",t),console.log("Selected certificates:",a),a.length===0){alert("Please select certificates to perform bulk action.");return}confirm(`Are you sure you want to ${t} the selected certificates?`)&&(console.log("Sending bulk action request:",{action:t,certificate_ids:a}),D.post(route("certificates.bulk-action"),{action:t,certificate_ids:a},{onSuccess:()=>{console.log("Bulk action completed successfully"),c([])},onError:s=>{console.error("Bulk action failed:",s),alert("Bulk action failed. Please try again.")}}))},C=t=>{t.target.checked?c(r.data.map(s=>s.id)):c([])},S=t=>{c(s=>s.includes(t)?s.filter(n=>n!==t):[...s,t])},_=t=>({active:"bg-green-100 text-green-800",revoked:"bg-red-100 text-red-800",expired:"bg-yellow-100 text-yellow-800"})[t]||"bg-gray-100 text-gray-800";return e.jsxs(T,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200",children:"ðŸ† Certificates Management"}),children:[e.jsx(E,{title:"Certificates"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"ðŸ† Certificates"}),e.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Manage training certificates and completion records"})]}),e.jsx("div",{className:"mt-4 sm:mt-0 flex space-x-3",children:e.jsx(d,{href:route("certificates.create"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors cursor-pointer",children:"âž• Create Certificate"})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-sm font-bold",children:"ðŸ†"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:l.total})]})]})})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-sm font-bold",children:"âœ…"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Active"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:l.active})]})]})})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-red-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-sm font-bold",children:"âŒ"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Revoked"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:l.revoked})]})]})})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-yellow-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-sm font-bold",children:"â°"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Expired"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:l.expired})]})]})})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-sm font-bold",children:"ðŸ“…"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"This Month"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:l.this_month})]})]})})})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg mb-6",children:e.jsx("div",{className:"p-6",children:e.jsx("form",{onSubmit:w,className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Search"}),e.jsx("input",{type:"text",value:h,onChange:t=>j(t.target.value),placeholder:"Search certificates...",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Status"}),e.jsxs("select",{value:g,onChange:t=>b(t.target.value),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"revoked",children:"Revoked"}),e.jsx("option",{value:"expired",children:"Expired"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Course"}),e.jsxs("select",{value:u,onChange:t=>v(t.target.value),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",children:[e.jsx("option",{value:"all",children:"All Courses"}),f.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{type:"submit",disabled:k,className:"w-full px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 cursor-pointer disabled:opacity-50",children:"ðŸ” Search"})})]})})})}),a.length>0&&e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900 border border-blue-200 dark:border-blue-700 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-blue-800 dark:text-blue-200",children:[a.length," certificate(s) selected"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>y("activate"),className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700 cursor-pointer",children:"âœ… Activate"}),e.jsx("button",{onClick:()=>y("revoke"),className:"px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700 cursor-pointer",children:"âŒ Revoke"}),e.jsx("button",{onClick:()=>y("delete"),className:"px-3 py-1 bg-gray-600 text-white rounded text-sm hover:bg-gray-700 cursor-pointer",children:"ðŸ—‘ï¸ Delete"})]})]})}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:e.jsx("input",{type:"checkbox",checked:a.length===r.data.length&&r.data.length>0,onChange:C,className:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 cursor-pointer"})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Certificate"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Participant"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Course"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Dates"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:r.data.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("input",{type:"checkbox",checked:a.includes(t.id),onChange:()=>S(t.id),className:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 cursor-pointer"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-yellow-100 dark:bg-yellow-900 flex items-center justify-center",children:e.jsx("span",{className:"text-lg",children:"ðŸ†"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:t.certificate_number}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.company_name||"No Company"})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900 dark:text-gray-100",children:t.participant_name}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.participant_email||"No Email"})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900 dark:text-gray-100",children:t.course_name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${_(t.status)}`,children:t.status_display})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:[e.jsxs("div",{children:["Completed:"," ",new Date(t.completion_date).toLocaleDateString()]}),e.jsxs("div",{children:["Issued:"," ",new Date(t.issue_date).toLocaleDateString()]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(d,{href:route("certificates.view",t.id),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 cursor-pointer",children:"ðŸ‘ï¸ View"}),e.jsx(d,{href:route("certificates.show",t.id),className:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300 cursor-pointer",children:"ðŸ“‹ Details"}),e.jsx(d,{href:route("certificates.edit",t.id),className:"text-yellow-600 hover:text-yellow-900 dark:text-yellow-400 dark:hover:text-yellow-300 cursor-pointer",children:"âœï¸ Edit"}),e.jsx("button",{onClick:()=>{if(confirm("Are you sure you want to delete this certificate?")){const s=document.createElement("form");s.method="POST",s.action=route("certificates.destroy",t.id);const n=document.querySelector('meta[name="csrf-token"]');if(n){const x=document.createElement("input");x.type="hidden",x.name="_token",x.value=n.getAttribute("content"),s.appendChild(x)}const o=document.createElement("input");o.type="hidden",o.name="_method",o.value="DELETE",s.appendChild(o),document.body.appendChild(s),s.submit(),document.body.removeChild(s)}},className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 cursor-pointer",children:"ðŸ—‘ï¸ Delete"})]})})]},t.id))})]})}),r.data.length===0&&e.jsx("div",{className:"text-center py-12",children:e.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ðŸ†"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"No certificates found"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Get started by creating your first certificate."}),e.jsx(d,{href:route("certificates.create"),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors cursor-pointer",children:"âž• Create First Certificate"})]})}),r.links&&r.links.length>3&&e.jsx("div",{className:"px-6 py-3 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Showing ",r.from," to ",r.to," of"," ",r.total," results"]}),e.jsx("div",{className:"flex space-x-1",children:r.links.map((t,s)=>e.jsx(d,{href:t.url,className:`px-3 py-2 text-sm rounded-md ${t.active?"bg-indigo-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"} ${t.url?"cursor-pointer":"opacity-50 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:t.label}},s))})]})})]})]})})]})}export{R as default};
