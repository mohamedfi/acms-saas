import{r as u,u as k,j as e,H as w,L as p}from"./app-BLl8wz7X.js";import{A as C}from"./AuthenticatedLayout-BBmj54qy.js";import"./ApplicationLogo-CLUV3Fv9.js";import"./transition-B5m-iN7L.js";function R({clients:c,stats:l,filters:n,recentActivities:m}){const[S,h]=u.useState([]),[g,y]=u.useState(!1),{data:r,setData:b,post:T}=k({search:n.search||"",type:n.type||"all",status:n.status||"all",sort:n.sort||"created_at",order:n.order||"desc"}),x=(t,s)=>{b(t,s),setTimeout(()=>{window.location.href=route("clients.index",{search:r.search,type:r.type,status:r.status,sort:r.sort,order:r.order})},100)},j=t=>{switch(t){case"participant":return"👥";case"company":return"🏢";case"user":return"👤";default:return"👤"}},f=t=>{switch(t){case"participant":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"company":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"user":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},v=t=>{switch(t){case"high":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"low":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},N=t=>{switch(t){case"active":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"inactive":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"verified":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"featured":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}};return e.jsxs(C,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200",children:"👥 Unified Client Management"}),children:[e.jsx(w,{title:"Client Management"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Client Management"}),e.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Manage all your clients from one unified dashboard"})]}),e.jsxs("div",{className:"mt-4 sm:mt-0 flex space-x-3",children:[e.jsx("button",{onClick:()=>y(!g),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors cursor-pointer",children:"🔍 Filters"}),e.jsx(p,{href:route("clients.reports"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors cursor-pointer",children:"📊 Reports"}),e.jsx("button",{onClick:()=>{const t=document.createElement("form");t.method="POST",t.action=route("clients.export"),t.target="_blank";const s=document.querySelector('meta[name="csrf-token"]');if(s){const o=document.createElement("input");o.type="hidden",o.name="_token",o.value=s.getAttribute("content"),t.appendChild(o)}const i=document.createElement("input");i.type="hidden",i.name="format",i.value="csv",t.appendChild(i);const a=document.createElement("input");a.type="hidden",a.name="type",a.value=r.type,t.appendChild(a);const d=document.createElement("input");d.type="hidden",d.name="status",d.value=r.status,t.appendChild(d),document.body.appendChild(t),t.submit(),document.body.removeChild(t)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors cursor-pointer",children:"📊 Export CSV"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-sm font-bold",children:"👥"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Clients"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:l.total_clients})]})]})})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-sm font-bold",children:"✅"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Active Clients"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:l.active_clients})]})]})})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-yellow-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-sm font-bold",children:"⭐"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"High Priority"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:l.high_priority})]})]})})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-sm font-bold",children:"💰"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Revenue"}),e.jsxs("p",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:["$",l.total_revenue.toLocaleString()]})]})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Training Participants"}),e.jsx("p",{className:"text-2xl font-semibold text-blue-600 dark:text-blue-400",children:l.participants})]}),e.jsx("div",{className:"text-3xl",children:"👥"})]})})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Rental Companies"}),e.jsx("p",{className:"text-2xl font-semibold text-green-600 dark:text-green-400",children:l.companies})]}),e.jsx("div",{className:"text-3xl",children:"🏢"})]})})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"System Users"}),e.jsx("p",{className:"text-2xl font-semibold text-purple-600 dark:text-purple-400",children:l.users})]}),e.jsx("div",{className:"text-3xl",children:"👤"})]})})})]}),g&&e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg mb-8",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4",children:"🔍 Filter & Search Clients"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Search"}),e.jsx("input",{type:"text",value:r.search,onChange:t=>x("search",t.target.value),placeholder:"Search clients...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Client Type"}),e.jsxs("select",{value:r.type,onChange:t=>x("type",t.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"participants",children:"Training Participants"}),e.jsx("option",{value:"companies",children:"Rental Companies"}),e.jsx("option",{value:"users",children:"System Users"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),e.jsxs("select",{value:r.status,onChange:t=>x("status",t.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"verified",children:"Verified"}),e.jsx("option",{value:"featured",children:"Featured"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sort By"}),e.jsxs("select",{value:r.sort,onChange:t=>x("sort",t.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"created_at",children:"Date Created"}),e.jsx("option",{value:"name",children:"Name"}),e.jsx("option",{value:"revenue",children:"Revenue"}),e.jsx("option",{value:"priority",children:"Priority"})]})]})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:["All Clients (",c.length,")"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>h(c.map(t=>t.id)),className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors cursor-pointer",children:"Select All"}),e.jsx("button",{onClick:()=>h([]),className:"px-3 py-1 text-sm bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors cursor-pointer",children:"Clear Selection"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Client"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Priority"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Revenue"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Last Activity"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:c.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-300 dark:bg-gray-600 flex items-center justify-center",children:e.jsx("span",{className:"text-lg",children:j(t.type)})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:t.name}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.email})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${f(t.type)}`,children:t.type==="participant"?"Training":t.type==="company"?"Rental Company":"System User"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${N(t.status)}`,children:t.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${v(t.priority)}`,children:t.priority})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:["$",t.revenue.toLocaleString()]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:new Date(t.last_activity).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(p,{href:route("clients.show",[t.type,t.id]),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 cursor-pointer",children:"View Details"}),e.jsx("button",{onClick:()=>{if(confirm("Are you sure you want to delete this client? This action cannot be undone.")){const s=document.createElement("form");s.method="POST",s.action=route("clients.destroy",[t.type,t.id]);const i=document.querySelector('meta[name="csrf-token"]');if(i){const d=document.createElement("input");d.type="hidden",d.name="_token",d.value=i.getAttribute("content"),s.appendChild(d)}const a=document.createElement("input");a.type="hidden",a.name="_method",a.value="DELETE",s.appendChild(a),document.body.appendChild(s),s.submit(),document.body.removeChild(s)}},className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 cursor-pointer",children:"Delete"})]})})]},`${t.type}-${t.id}`))})]})}),c.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:"👥"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"No clients found"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Try adjusting your search criteria or add some clients to get started."})]})]})}),m&&m.length>0&&e.jsx("div",{className:"mt-8 bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4",children:"📈 Recent Activities"}),e.jsx("div",{className:"space-y-3",children:m.map((t,s)=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs",children:"📝"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-900 dark:text-gray-100",children:t.message}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(t.time).toLocaleString()})]})]},s))})]})})]})})]})}export{R as default};
