import{u as y,j as e,H as j,L as o}from"./app-CR6Cccup.js";import{A as f}from"./AuthenticatedLayout-hRvAu0dY.js";import{I as t}from"./InputLabel-DS4fYaml.js";import{T as i}from"./TextInput-B3N0Ap7J.js";import{I as n}from"./InputError-7i7Zf9tA.js";import{P as k}from"./PrimaryButton-BcmRXvB6.js";import"./ApplicationLogo-C8egk-yV.js";import"./transition-CwUFHmZ4.js";function I(){const{data:s,setData:r,post:c,processing:d,errors:l,reset:m}=y({name:"",description:"",subject:"",content:"",channel:"all",category:"announcement",variables:[],is_active:!0}),g=[{value:"email",label:"ğŸ“§ Email Only"},{value:"sms",label:"ğŸ’¬ SMS Only"},{value:"whatsapp",label:"ğŸ“± WhatsApp Only"},{value:"all",label:"ğŸŒ All Channels"}],u=[{value:"course",label:"ğŸ“š Course Related"},{value:"task",label:"ğŸ“‹ Task Related"},{value:"announcement",label:"ğŸ“¢ Announcement"},{value:"reminder",label:"â° Reminder"},{value:"welcome",label:"ğŸ‘‹ Welcome"},{value:"confirmation",label:"âœ… Confirmation"}],x=["participant_name","course_name","course_start","course_end","location","employee_name","task_title","task_description","due_date","priority","announcement_title","announcement_content","sender_name"],b=a=>{a.preventDefault(),c(route("message-templates.store"),{onSuccess:()=>{m()}})},p=a=>{s.variables.includes(a)||r("variables",[...s.variables,a])},h=a=>{r("variables",s.variables.filter(v=>v!==a))};return e.jsxs(f,{header:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200",children:"ğŸ“ Create Message Template"}),e.jsx(o,{href:route("message-templates.index"),className:"inline-flex items-center px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white text-sm font-medium rounded-lg transition-colors duration-200",children:"â¬…ï¸ Back to Templates"})]}),children:[e.jsx(j,{title:"Create Template"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg",children:e.jsx("div",{className:"p-6",children:e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(t,{value:"Template Name *"}),e.jsx(i,{value:s.name,onChange:a=>r("name",a.target.value),className:"mt-1 block w-full",placeholder:"e.g., Course Welcome, Task Assignment"}),e.jsx(n,{message:l.name,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(t,{value:"Category *"}),e.jsx("select",{value:s.category,onChange:a=>r("category",a.target.value),className:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",children:u.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))}),e.jsx(n,{message:l.category,className:"mt-2"})]})]}),e.jsxs("div",{children:[e.jsx(t,{value:"Description"}),e.jsx("textarea",{value:s.description,onChange:a=>r("description",a.target.value),rows:3,className:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",placeholder:"Brief description of when to use this template..."}),e.jsx(n,{message:l.description,className:"mt-2"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(t,{value:"Channel *"}),e.jsx("select",{value:s.channel,onChange:a=>r("channel",a.target.value),className:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",children:g.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))}),e.jsx(n,{message:l.channel,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(t,{value:"Status"}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:s.is_active,onChange:a=>r("is_active",a.target.checked),className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Active (can be used for sending messages)"})]})})]})]}),e.jsxs("div",{children:[e.jsx(t,{value:"Subject (Email templates only)"}),e.jsx(i,{value:s.subject,onChange:a=>r("subject",a.target.value),className:"mt-1 block w-full",placeholder:"Email subject line (optional for SMS/WhatsApp)"}),e.jsx(n,{message:l.subject,className:"mt-2"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Leave empty for SMS and WhatsApp templates"})]}),e.jsxs("div",{children:[e.jsx(t,{value:"Message Content *"}),e.jsx("textarea",{value:s.content,onChange:a=>r("content",a.target.value),rows:8,className:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",placeholder:"Enter your message content. Use variable_name for dynamic content..."}),e.jsx(n,{message:l.content,className:"mt-2"}),e.jsxs("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:["Use"," ",e.jsx("code",{className:"bg-gray-100 dark:bg-gray-700 px-1 rounded",children:"variable_name"})," ","for dynamic content"]})]}),e.jsxs("div",{children:[e.jsx(t,{value:"Available Variables"}),e.jsxs("div",{className:"mt-2 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"Click on variables to add them to your template:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:x.map(a=>e.jsx("button",{type:"button",onClick:()=>p(a),className:`px-3 py-1 text-sm rounded-full border transition-colors ${s.variables.includes(a)?"bg-blue-100 text-blue-800 border-blue-300 dark:bg-blue-900 dark:text-blue-200 dark:border-blue-700":"bg-gray-100 text-gray-700 border-gray-300 hover:bg-gray-200 dark:bg-gray-600 dark:text-gray-300 dark:border-gray-500 dark:hover:bg-gray-500"}`,children:a},a))}),s.variables.length>0&&e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Selected variables:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.variables.map(a=>e.jsxs("span",{className:"px-3 py-1 text-sm bg-blue-100 text-blue-800 border border-blue-300 rounded-full flex items-center",children:[a,e.jsx("button",{type:"button",onClick:()=>h(a),className:"ml-2 text-blue-600 hover:text-blue-800",children:"Ã—"})]},a))})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[e.jsx(o,{href:route("message-templates.index"),className:"px-4 py-2 bg-gray-300 hover:bg-gray-400 text-gray-700 text-sm font-medium rounded-lg transition-colors duration-200",children:"âŒ Cancel"}),e.jsx(k,{type:"submit",disabled:d,className:"px-6 py-2 bg-green-600 hover:bg-green-700",children:d?"Creating...":"ğŸ“ Create Template"})]})]})})})})})]})}export{I as default};
