import{r as n,j as e,H as b,L as d,a as x}from"./app-CimGcIIJ.js";import{A as N}from"./AuthenticatedLayout-DuDliEYG.js";import"./ApplicationLogo-CIKOWYl-.js";import"./transition-DIRcOHmM.js";function C({roles:o,stats:l}){const[r,m]=n.useState(""),[s,g]=n.useState("all"),[c,p]=n.useState("name"),i=o.filter(t=>{const a=t.name.toLowerCase().includes(r.toLowerCase())||t.display_name.toLowerCase().includes(r.toLowerCase()),j=s==="all"||s==="active"&&t.is_active||s==="inactive"&&!t.is_active;return a&&j}).sort((t,a)=>{switch(c){case"name":return t.name.localeCompare(a.name);case"employees":return a.employees_count-t.employees_count;case"access_level":return a.access_level-t.access_level;default:return t.name.localeCompare(a.name)}}),h=t=>{confirm(`Are you sure you want to delete the role "${t.display_name}"?`)&&x.delete(route("role-management.destroy",t.id))},u=t=>{x.patch(route("role-management.toggle-status",t.id))},y=t=>t?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",v=t=>t.color||"bg-gray-500";return e.jsxs(N,{header:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200",children:"👥 Role Management"}),e.jsx(d,{href:route("role-management.create"),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition-colors duration-200",children:"➕ Create New Role"})]}),children:[e.jsx(b,{title:"Role Management"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900 rounded-full",children:e.jsx("span",{className:"text-2xl",children:"👥"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Roles"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:l.total_roles})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900 rounded-full",children:e.jsx("span",{className:"text-2xl",children:"✅"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Active Roles"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:l.active_roles})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900 rounded-full",children:e.jsx("span",{className:"text-2xl",children:"👨‍💼"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Employees"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:l.total_employees})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900 rounded-full",children:e.jsx("span",{className:"text-2xl",children:"🔗"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Roles in Use"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:l.roles_with_employees})]})]})})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",placeholder:"Search roles...",value:r,onChange:t=>m(t.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("select",{value:s,onChange:t=>g(t.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active Only"}),e.jsx("option",{value:"inactive",children:"Inactive Only"})]}),e.jsxs("select",{value:c,onChange:t=>p(t.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"name",children:"Sort by Name"}),e.jsx("option",{value:"employees",children:"Sort by Employees"}),e.jsx("option",{value:"access_level",children:"Sort by Access Level"})]})]})]})}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:["Roles (",i.length,")"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Description"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Employees"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Access Level"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:i.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${v(t)} mr-3`}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:t.display_name}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.name})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm text-gray-900 dark:text-gray-100 max-w-xs truncate",children:t.description||"No description"})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm text-gray-900 dark:text-gray-100",children:[t.employees_count," ","employees"]}),t.employees_count>0&&e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[t.employees?.slice(0,2).map(a=>a.first_name).join(", "),t.employees_count>2&&` +${t.employees_count-2} more`]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",children:["Level"," ",t.access_level||1]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${y(t.is_active)}`,children:t.is_active?"Active":"Inactive"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(d,{href:route("role-management.show",t.id),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:"👁️ View"}),e.jsx(d,{href:route("role-management.edit",t.id),className:"text-indigo-600 hover:text-blue-900 dark:text-indigo-400 dark:hover:text-blue-300",children:"✏️ Edit"}),e.jsx("button",{onClick:()=>u(t),className:`${t.is_active?"text-yellow-600 hover:text-yellow-900":"text-green-600 hover:text-green-900"} dark:text-yellow-400 dark:hover:text-yellow-300`,children:t.is_active?"⏸️ Deactivate":"▶️ Activate"}),e.jsxs("button",{onClick:()=>h(t),className:`${t.employees_count>0?"text-gray-400 cursor-not-allowed opacity-50":"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300"}`,disabled:t.employees_count>0,title:t.employees_count>0?`Cannot delete: ${t.employees_count} employee(s) assigned`:"Delete this role",children:["🗑️ Delete",t.employees_count>0&&e.jsxs("span",{className:"ml-1 text-xs",children:["(",t.employees_count,")"]})]})]})})]},t.id))})]})})]}),i.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:"👥"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"No roles found"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:r||s!=="all"?"Try adjusting your search or filters.":"Get started by creating your first role."}),!r&&s==="all"&&e.jsx(d,{href:route("role-management.create"),className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg transition-colors duration-200",children:"➕ Create Your First Role"})]})]})})]})}export{C as default};
