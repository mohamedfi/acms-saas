import{u as v,j as e,H as j,L as c}from"./app-DPxrnJH9.js";import{A as k}from"./AuthenticatedLayout-dpSZcWTj.js";import"./ApplicationLogo-CRVY01fr.js";import"./transition-DYabZw25.js";function C({employees:d}){const{data:r,setData:l,post:m,processing:o,errors:a}=v({name:"",display_name:"",description:"",permissions:[],is_active:!0,sort_order:0,color:"",icon:"",access_level:1,assigned_employees:[]}),p=[{group:"Course Management",permissions:["courses.view","courses.create","courses.edit","courses.delete","courses.manage"]},{group:"Participant Management",permissions:["participants.view","participants.create","participants.edit","participants.delete","participants.manage"]},{group:"Employee Management",permissions:["employees.view","employees.create","employees.edit","employees.delete","employees.manage"]},{group:"Department Management",permissions:["departments.view","departments.create","departments.edit","departments.delete","departments.manage"]},{group:"Role Management",permissions:["roles.view","roles.create","roles.edit","roles.delete","roles.manage"]},{group:"Asset Management",permissions:["assets.view","assets.create","assets.edit","assets.delete","assets.manage"]},{group:"Financial Management",permissions:["finance.view","finance.create","finance.edit","finance.delete","finance.manage"]},{group:"Task Management",permissions:["tasks.view","tasks.create","tasks.edit","tasks.delete","tasks.manage"]},{group:"Reports & Analytics",permissions:["reports.view","reports.create","reports.export","analytics.view"]},{group:"System Administration",permissions:["system.settings","system.users","system.backup","system.logs"]}],g=[{name:"Red",value:"bg-red-500",preview:"bg-red-500"},{name:"Blue",value:"bg-blue-500",preview:"bg-blue-500"},{name:"Green",value:"bg-green-500",preview:"bg-green-500"},{name:"Purple",value:"bg-purple-500",preview:"bg-purple-500"},{name:"Orange",value:"bg-orange-500",preview:"bg-orange-500"},{name:"Teal",value:"bg-teal-500",preview:"bg-teal-500"},{name:"Pink",value:"bg-pink-500",preview:"bg-pink-500"},{name:"Indigo",value:"bg-indigo-500",preview:"bg-indigo-500"},{name:"Yellow",value:"bg-yellow-500",preview:"bg-yellow-500"},{name:"Gray",value:"bg-gray-500",preview:"bg-gray-500"}],x=["👑","👥","👨‍💼","👩‍💼","🎓","💼","🔧","📊","💰","📈","🎯","⚡","🌟","💎","🔥","💡","🚀","🎪","🏆","💪"],u=s=>{const t=r.permissions.includes(s)?r.permissions.filter(n=>n!==s):[...r.permissions,s];l("permissions",t)},h=s=>{const t=s.permissions;if(t.every(i=>r.permissions.includes(i))){const i=r.permissions.filter(y=>!t.includes(y));l("permissions",i)}else{const i=[...new Set([...r.permissions,...t])];l("permissions",i)}},b=s=>{s.preventDefault(),m(route("role-management.store"))};return e.jsxs(k,{header:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200",children:"➕ Create New Role"}),e.jsx(c,{href:route("role-management.index"),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-colors duration-200",children:"← Back to Roles"})]}),children:[e.jsx(j,{title:"Create New Role"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:e.jsxs("form",{onSubmit:b,className:"space-y-8",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-6",children:"📝 Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Role Name *"}),e.jsx("input",{type:"text",value:r.name,onChange:s=>l("name",s.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"e.g., admin, manager, trainer"}),a.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Display Name *"}),e.jsx("input",{type:"text",value:r.display_name,onChange:s=>l("display_name",s.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"e.g., Administrator, Department Manager"}),a.display_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.display_name})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),e.jsx("textarea",{value:r.description,onChange:s=>l("description",s.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Describe the role's purpose and responsibilities..."}),a.description&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.description})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-6",children:"⚙️ Role Configuration"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Access Level *"}),e.jsxs("select",{value:r.access_level,onChange:s=>l("access_level",parseInt(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:1,children:"Level 1 - Basic Access"}),e.jsx("option",{value:2,children:"Level 2 - Standard Access"}),e.jsx("option",{value:3,children:"Level 3 - Advanced Access"}),e.jsx("option",{value:4,children:"Level 4 - Manager Access"}),e.jsx("option",{value:5,children:"Level 5 - Admin Access"}),e.jsx("option",{value:10,children:"Level 10 - Super Admin"})]}),a.access_level&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.access_level})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sort Order"}),e.jsx("input",{type:"number",value:r.sort_order,onChange:s=>l("sort_order",parseInt(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"0"}),a.sort_order&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.sort_order})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:r.is_active,onChange:s=>l("is_active",s.target.checked),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),e.jsx("label",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Active"})]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-6",children:"🎨 Visual Customization"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Role Color"}),e.jsx("div",{className:"grid grid-cols-5 gap-2",children:g.map(s=>e.jsx("button",{type:"button",onClick:()=>l("color",s.value),className:`w-8 h-8 rounded-full ${s.preview} border-2 ${r.color===s.value?"border-gray-900":"border-transparent"} hover:scale-110 transition-transform`,title:s.name},s.value))}),a.color&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.color})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Role Icon"}),e.jsx("div",{className:"grid grid-cols-10 gap-2 max-h-32 overflow-y-auto",children:x.map(s=>e.jsx("button",{type:"button",onClick:()=>l("icon",s),className:`w-8 h-8 text-lg hover:scale-110 transition-transform ${r.icon===s?"ring-2 ring-purple-500":""}`,children:s},s))}),a.icon&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.icon})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-6",children:"👥 Assign Employees to This Role"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Select Employees"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx("button",{type:"button",onClick:()=>{const s=d.map(t=>t.id);l("assigned_employees",s)},className:"px-3 py-1 text-xs bg-blue-500 hover:bg-blue-600 text-white rounded-md transition-colors",children:"Select All"}),e.jsx("button",{type:"button",onClick:()=>l("assigned_employees",[]),className:"px-3 py-1 text-xs bg-gray-500 hover:bg-gray-600 text-white rounded-md transition-colors",children:"Clear All"})]}),e.jsx("select",{multiple:!0,value:r.assigned_employees,onChange:s=>{const t=Array.from(s.target.selectedOptions,n=>parseInt(n.value));l("assigned_employees",t)},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:text-white min-h-32",children:d.map(s=>e.jsx("option",{value:s.id,children:s.label},s.id))}),e.jsx("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:"💡 Hold Ctrl (or Cmd on Mac) to select multiple employees"})]}),r.assigned_employees.length>0&&e.jsx("div",{className:"mt-3 p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:e.jsxs("p",{className:"text-sm text-purple-700 dark:text-purple-300",children:[e.jsx("strong",{children:"Selected:"})," ",r.assigned_employees.length," ","employee(s)"]})}),a.assigned_employees&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:a.assigned_employees})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-6",children:"🔐 Permissions"}),e.jsx("div",{className:"space-y-4",children:p.map(s=>e.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-gray-100",children:s.group}),e.jsx("button",{type:"button",onClick:()=>h(s),className:"text-sm text-purple-600 hover:text-purple-800 dark:text-purple-400 dark:hover:text-purple-300",children:s.permissions.every(t=>r.permissions.includes(t))?"Deselect All":"Select All"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:s.permissions.map(t=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:r.permissions.includes(t),onChange:()=>u(t),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:t.split(".").pop().replace(/([A-Z])/g," $1").trim()})]},t))})]},s.group))}),a.permissions&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:a.permissions})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx(c,{href:route("role-management.index"),className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-lg transition-colors duration-200",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:o,className:"bg-purple-600 hover:bg-purple-700 disabled:opacity-50 text-white px-6 py-3 rounded-lg transition-colors duration-200",children:o?"Creating...":"Create Role"})]})]})})})]})}export{C as default};
