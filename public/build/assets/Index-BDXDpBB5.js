import{r as a,j as e,H as g,L as n,a as l}from"./app-CR6Cccup.js";import{A as h}from"./AuthenticatedLayout-hRvAu0dY.js";import"./ApplicationLogo-C8egk-yV.js";import"./transition-CwUFHmZ4.js";function j(){const[d,o]=a.useState([]),[c,i]=a.useState(!0);a.useEffect(()=>{const r=`${window.location.origin}/api/courses`;console.log("Debug - Fetching courses from:",r),fetch(r).then(t=>{if(console.log("Debug - Courses response status:",t.status),!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return t.json()}).then(t=>{console.log("Debug - Courses data received:",t),o(t.data||[]),i(!1)}).catch(t=>{console.error("Error fetching courses:",t),i(!1)})},[]);const m=s=>{confirm("Are you sure you want to delete this course?")&&l.delete(route("courses.destroy",s))},x=s=>{confirm("Are you sure you want to archive this course?")&&l.post(route("courses.archive",s))};return e.jsxs(h,{header:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200",children:"📚 Courses Management"}),e.jsx("a",{href:route("courses.create"),className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-md text-sm font-medium",children:"+ Add New Course"})]}),children:[e.jsx(g,{title:"Courses"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden bg-white shadow-sm sm:rounded-lg dark:bg-gray-800",children:e.jsx("div",{className:"p-6 text-gray-900 dark:text-gray-100",children:c?e.jsxs("div",{className:"flex justify-center items-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"}),e.jsx("span",{className:"ml-2",children:"Loading courses..."})]}):d.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"📚"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"No courses found"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Get started by creating your first course."})]}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:d.map(s=>{var r,t;return e.jsxs("div",{className:"bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg shadow-sm hover:shadow-md transition-shadow p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 line-clamp-2",children:s.name}),e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:"Active"})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-4 line-clamp-3",children:s.description}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-500 dark:text-gray-400",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium mr-2",children:"🌍"}),s.delivery_type==="abroad"?"International":s.delivery_type]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium mr-2",children:"📍"}),s.city,","," ",s.country]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium mr-2",children:"🎓"}),"Trainer:"," ",((r=s.trainer)==null?void 0:r.full_name)||"Not Assigned"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium mr-2",children:"👨‍💼"}),"Coordinator:"," ",((t=s.coordinator)==null?void 0:t.full_name)||"Not Assigned"]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-600",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(n,{href:route("courses.show",s.id),className:"flex-1 bg-indigo-100 hover:bg-indigo-200 text-indigo-700 px-3 py-2 rounded text-sm font-medium transition-colors text-center",children:"View Details"}),e.jsx(n,{href:route("courses.edit",s.id),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded text-sm font-medium transition-colors dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-gray-200 text-center",children:"Edit"}),e.jsx("button",{onClick:()=>m(s.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:"Delete"}),e.jsx("button",{onClick:()=>x(s.id),className:"text-amber-600 hover:text-amber-900 dark:text-amber-400 dark:hover:text-amber-300",children:"📚 Archive"})]})})]},s.id)})})})})})})]})}export{j as default};
