import{u as k,j as e,H as f,L as p}from"./app-BLl8wz7X.js";import{A as N}from"./AuthenticatedLayout-BBmj54qy.js";import"./ApplicationLogo-CLUV3Fv9.js";import"./transition-B5m-iN7L.js";function S({role:i,employees:o}){var m;const{data:a,setData:l,put:g,processing:c,errors:r}=k({name:i.name||"",display_name:i.display_name||"",description:i.description||"",permissions:i.permissions||[],is_active:i.is_active??!0,sort_order:i.sort_order||0,color:i.color||"",icon:i.icon||"",access_level:i.access_level||1,assigned_employees:((m=i.employees)==null?void 0:m.map(s=>s.id))||[]}),x=[{group:"Course Management",permissions:["courses.view","courses.create","courses.edit","courses.delete","courses.manage"]},{group:"Participant Management",permissions:["participants.view","participants.create","participants.edit","participants.delete","participants.manage"]},{group:"Employee Management",permissions:["employees.view","employees.create","employees.edit","employees.delete","employees.manage"]},{group:"Department Management",permissions:["departments.view","departments.create","departments.edit","departments.delete","departments.manage"]},{group:"Role Management",permissions:["roles.view","roles.create","roles.edit","roles.delete","roles.manage"]},{group:"Asset Management",permissions:["assets.view","assets.create","assets.edit","assets.delete","assets.manage"]},{group:"Financial Management",permissions:["finance.view","finance.create","finance.edit","finance.delete","finance.manage"]},{group:"Task Management",permissions:["tasks.view","tasks.create","tasks.edit","tasks.delete","tasks.manage"]},{group:"Reports & Analytics",permissions:["reports.view","reports.create","reports.export","analytics.view"]},{group:"System Administration",permissions:["system.settings","system.users","system.backup","system.logs"]}],u=[{name:"Red",value:"bg-red-500",preview:"bg-red-500"},{name:"Blue",value:"bg-blue-500",preview:"bg-blue-500"},{name:"Green",value:"bg-green-500",preview:"bg-green-500"},{name:"Purple",value:"bg-purple-500",preview:"bg-purple-500"},{name:"Orange",value:"bg-orange-500",preview:"bg-orange-500"},{name:"Teal",value:"bg-teal-500",preview:"bg-teal-500"},{name:"Pink",value:"bg-pink-500",preview:"bg-pink-500"},{name:"Indigo",value:"bg-indigo-500",preview:"bg-indigo-500"},{name:"Yellow",value:"bg-yellow-500",preview:"bg-yellow-500"},{name:"Gray",value:"bg-gray-500",preview:"bg-gray-500"}],h=["ðŸ‘‘","ðŸ‘¥","ðŸ‘¨â€ðŸ’¼","ðŸ‘©â€ðŸ’¼","ðŸŽ“","ðŸ’¼","ðŸ”§","ðŸ“Š","ðŸ’°","ðŸ“ˆ","ðŸŽ¯","âš¡","ðŸŒŸ","ðŸ’Ž","ðŸ”¥","ðŸ’¡","ðŸš€","ðŸŽª","ðŸ†","ðŸ’ª"],b=s=>{const t=a.permissions.includes(s)?a.permissions.filter(d=>d!==s):[...a.permissions,s];l("permissions",t)},y=s=>{const t=s.permissions;if(t.every(n=>a.permissions.includes(n))){const n=a.permissions.filter(j=>!t.includes(j));l("permissions",n)}else{const n=[...new Set([...a.permissions,...t])];l("permissions",n)}},v=s=>{s.preventDefault(),g(route("role-management.update",i.id))};return e.jsxs(N,{header:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h2",{className:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200",children:["âœï¸ Edit Role: ",i.display_name]}),e.jsx(p,{href:route("role-management.index"),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-colors duration-200",children:"â† Back to Roles"})]}),children:[e.jsx(f,{title:`Edit Role: ${i.display_name}`}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-6",children:"ðŸ“‹ Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Role Name *"}),e.jsx("input",{type:"text",value:a.name,onChange:s=>l("name",s.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"e.g., admin, manager, trainer"}),r.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Display Name *"}),e.jsx("input",{type:"text",value:a.display_name,onChange:s=>l("display_name",s.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"e.g., Administrator, Department Manager"}),r.display_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.display_name})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),e.jsx("textarea",{value:a.description,onChange:s=>l("description",s.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Describe the role's purpose and responsibilities..."}),r.description&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.description})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-6",children:"âš™ï¸ Configuration"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Access Level"}),e.jsxs("select",{value:a.access_level,onChange:s=>l("access_level",parseInt(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:1,children:"Level 1 - Basic Access"}),e.jsx("option",{value:2,children:"Level 2 - Standard Access"}),e.jsx("option",{value:3,children:"Level 3 - Advanced Access"}),e.jsx("option",{value:4,children:"Level 4 - Manager Access"}),e.jsx("option",{value:5,children:"Level 5 - Admin Access"}),e.jsx("option",{value:10,children:"Level 10 - Super Admin"})]}),r.access_level&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.access_level})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sort Order"}),e.jsx("input",{type:"number",value:a.sort_order,onChange:s=>l("sort_order",parseInt(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"0"}),r.sort_order&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.sort_order})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Active Status"}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:a.is_active,onChange:s=>l("is_active",s.target.checked),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"This role is active and can be assigned to employees"})]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-6",children:"ðŸŽ¨ Visual Customization"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Color Theme"}),e.jsx("div",{className:"grid grid-cols-5 gap-2",children:u.map(s=>e.jsx("button",{type:"button",onClick:()=>l("color",s.value),className:`w-8 h-8 rounded-full ${s.preview} border-2 ${a.color===s.value?"border-gray-900":"border-transparent"} hover:scale-110 transition-transform`,title:s.name},s.value))}),r.color&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.color})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Icon"}),e.jsx("div",{className:"grid grid-cols-5 gap-2",children:h.map(s=>e.jsx("button",{type:"button",onClick:()=>l("icon",s),className:`w-8 h-8 text-lg hover:scale-110 transition-transform ${a.icon===s?"ring-2 ring-purple-500":""}`,children:s},s))}),r.icon&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.icon})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-6",children:"ðŸ‘¥ Assign Employees to This Role"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Select Employees"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx("button",{type:"button",onClick:()=>{const s=o.map(t=>t.id);l("assigned_employees",s)},className:"px-3 py-1 text-xs bg-blue-500 hover:bg-blue-600 text-white rounded-md transition-colors",children:"Select All"}),e.jsx("button",{type:"button",onClick:()=>l("assigned_employees",[]),className:"px-3 py-1 text-xs bg-gray-500 hover:bg-gray-600 text-white rounded-md transition-colors",children:"Clear All"})]}),e.jsx("select",{multiple:!0,value:a.assigned_employees,onChange:s=>{const t=Array.from(s.target.selectedOptions,d=>parseInt(d.value));l("assigned_employees",t)},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:text-white min-h-32",children:o.map(s=>e.jsx("option",{value:s.id,children:s.label},s.id))}),e.jsx("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:"ðŸ’¡ Hold Ctrl (or Cmd on Mac) to select multiple employees"})]}),a.assigned_employees.length>0&&e.jsx("div",{className:"mt-3 p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:e.jsxs("p",{className:"text-sm text-purple-700 dark:text-purple-300",children:[e.jsx("strong",{children:"Selected:"})," ",a.assigned_employees.length," employee(s)"]})}),r.assigned_employees&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.assigned_employees})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-6",children:"ðŸ” Permissions"}),e.jsx("div",{className:"space-y-4",children:x.map(s=>e.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-gray-100",children:s.group}),e.jsx("button",{type:"button",onClick:()=>y(s),className:"text-sm text-purple-600 hover:text-purple-800 dark:text-purple-400 dark:hover:text-purple-300",children:s.permissions.every(t=>a.permissions.includes(t))?"Deselect All":"Select All"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:s.permissions.map(t=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:a.permissions.includes(t),onChange:()=>b(t),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:t.split(".").pop().replace(/([A-Z])/g," $1").trim()})]},t))})]},s.group))}),r.permissions&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.permissions})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx(p,{href:route("role-management.index"),className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-lg transition-colors duration-200",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:c,className:"bg-purple-600 hover:bg-purple-700 disabled:opacity-50 text-white px-6 py-3 rounded-lg transition-colors duration-200",children:c?"Updating...":"Update Role"})]})]})})})]})}export{S as default};
