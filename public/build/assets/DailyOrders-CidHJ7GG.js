import{r as f,u as b,j as e,H as y,L as l}from"./app-BvofbhrV.js";import{A as j}from"./AuthenticatedLayout-Bhu4KWM0.js";import"./ApplicationLogo-COzY0AUK.js";import"./transition-CjfadS_U.js";function k({auth:u,mealBreakPlan:r,dailyOrders:n}){const[d,o]=f.useState(!1),{data:a,setData:i,post:g,processing:x,errors:s,reset:h}=b({order_date:"",course_name:"",number_of_attendance:"",location:"",delivery_cost:"",special_instructions:""}),c=t=>{try{return t?new Date(t).toLocaleDateString("en-GB"):"N/A"}catch(m){return console.error("Date formatting error:",m),"Invalid Date"}},p=t=>{t.preventDefault(),g(route("catering.meal-break-plans.daily-orders.store",r.id),{onSuccess:()=>{h(),o(!1)}})};return e.jsxs(j,{user:u.user,header:e.jsxs("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:["Daily Orders - ",r.name]}),children:[e.jsx(y,{title:`Daily Orders - ${r.name}`}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:r.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[c(r.start_date)," -"," ",c(r.end_date)]}),e.jsx("p",{className:"text-sm text-gray-500",children:r.description})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(l,{href:route("catering.meal-break-plans.show",r.id),className:"inline-flex items-center px-4 py-2 bg-gray-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 focus:bg-gray-700 active:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150",children:"Back to Plan"}),e.jsx("button",{onClick:()=>o(!d),className:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-700 focus:bg-blue-700 active:bg-blue-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150",children:d?"Cancel":"Add Daily Order"})]})]})})}),d&&e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Create New Daily Order"}),e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date"}),e.jsx("input",{type:"date",value:a.order_date,onChange:t=>i("order_date",t.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:!0}),s.order_date&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.order_date})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Course Name"}),e.jsx("input",{type:"text",value:a.course_name,onChange:t=>i("course_name",t.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:!0}),s.course_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.course_name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Number of Attendance"}),e.jsx("input",{type:"number",value:a.number_of_attendance,onChange:t=>i("number_of_attendance",t.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:!0}),s.number_of_attendance&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.number_of_attendance})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Location"}),e.jsx("input",{type:"text",value:a.location,onChange:t=>i("location",t.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:!0}),s.location&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.location})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Delivery Cost"}),e.jsx("input",{type:"number",step:"0.01",value:a.delivery_cost,onChange:t=>i("delivery_cost",t.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:!0}),s.delivery_cost&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.delivery_cost})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Special Instructions"}),e.jsx("textarea",{value:a.special_instructions,onChange:t=>i("special_instructions",t.target.value),rows:"3",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"}),s.special_instructions&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.special_instructions})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>o(!1),className:"inline-flex items-center px-4 py-2 bg-gray-300 border border-transparent rounded-md font-semibold text-xs text-gray-700 uppercase tracking-widest hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition ease-in-out duration-150",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:x,className:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-700 focus:bg-blue-700 active:bg-blue-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150 disabled:opacity-25",children:x?"Creating...":"Create Daily Order"})]})]})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Daily Orders"}),n&&n.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Attendance"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Delivery Cost"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Food Orders"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c(t.order_date)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.course_name}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.number_of_attendance}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.location}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",t.delivery_cost]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[t.individual_food_orders_count||0," ","orders"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(l,{href:route("catering.daily-orders.food-orders",t.id),className:"text-indigo-600 hover:text-indigo-900",children:"View Orders"}),e.jsx(l,{href:route("catering.daily-orders.edit",t.id),className:"text-green-600 hover:text-green-900",children:"Edit"})]})})]},t.id))})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-gray-500",children:"No daily orders found for this meal break plan."}),e.jsx("p",{className:"text-sm text-gray-400 mt-2",children:'Click "Add Daily Order" to get started.'})]})]})})]})})]})}export{k as default};
