import{u as E,r as l,j as e,H as I}from"./app-BLl8wz7X.js";import{A as P}from"./AuthenticatedLayout-BBmj54qy.js";import"./ApplicationLogo-CLUV3Fv9.js";import"./transition-B5m-iN7L.js";function R({participants:m,courses:g,companies:x,backgroundImages:h}){const{data:s,setData:r,post:f,processing:u,errors:t}=E({course_id:"",participant_name:"",participant_email:"",company_id:"",completion_date:"",issue_date:"",description:"",background_image:null,selected_background_image:"",orientation:"landscape",notes:""}),[o,y]=l.useState(null),[n,k]=l.useState(null),[c,j]=l.useState(null),[b,p]=l.useState(null),v=a=>{a.preventDefault(),f(route("certificates.store"))},N=a=>{y(a),r("participant_name",a.full_name),r("participant_email",a.email),r("company_id",a.organization||"")},w=a=>{k(a),r("course_id",a.id)},_=a=>{j(a),r("company_id",a.id)},C=a=>{const d=a.target.files[0];if(d){r("background_image",d);const i=new FileReader;i.onload=S=>p(S.target.result),i.readAsDataURL(d)}};return e.jsxs(P,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200",children:"🏆 Create Certificate"}),children:[e.jsx(I,{title:"Create Certificate"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-4xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"🏆 Create New Certificate"}),e.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Create a new training completion certificate"})]}),e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Select Participant"}),e.jsxs("select",{value:(o==null?void 0:o.id)||"",onChange:a=>{const d=m.find(i=>i.id==a.target.value);d&&N(d)},className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",children:[e.jsx("option",{value:"",children:"Select a participant..."}),m.map(a=>e.jsxs("option",{value:a.id,children:[a.full_name," - ",a.email]},a.id))]}),t.participant_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.participant_name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Select Course (Optional)"}),e.jsxs("select",{value:(n==null?void 0:n.id)||"",onChange:a=>{const d=g.find(i=>i.id==a.target.value);d&&w(d)},className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",children:[e.jsx("option",{value:"",children:"Select a course (optional)..."}),g.map(a=>e.jsxs("option",{value:a.id,children:[a.name," ",a.code&&`(${a.code})`]},a.id))]}),t.course_id&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.course_id})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Participant Name (Optional)"}),e.jsx("input",{type:"text",value:s.participant_name,onChange:a=>r("participant_name",a.target.value),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"Enter participant name (optional)"}),t.participant_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.participant_name})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Participant Email"}),e.jsx("input",{type:"email",value:s.participant_email,onChange:a=>r("participant_email",a.target.value),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"Enter participant email"}),t.participant_email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.participant_email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Select Company"}),e.jsxs("select",{value:(c==null?void 0:c.id)||"",onChange:a=>{const d=x.find(i=>i.id==a.target.value);d&&_(d)},className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",children:[e.jsx("option",{value:"",children:"Select a company..."}),x.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]}),t.company_id&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.company_id})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Completion Date (Optional)"}),e.jsx("input",{type:"date",value:s.completion_date,onChange:a=>r("completion_date",a.target.value),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"}),t.completion_date&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.completion_date})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Issue Date (Optional)"}),e.jsx("input",{type:"date",value:s.issue_date,onChange:a=>r("issue_date",a.target.value),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"}),t.issue_date&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.issue_date})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Certificate Orientation *"}),e.jsxs("select",{value:s.orientation,onChange:a=>r("orientation",a.target.value),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:!0,children:[e.jsx("option",{value:"landscape",children:"Landscape (Wide)"}),e.jsx("option",{value:"portrait",children:"Portrait (Tall)"})]}),t.orientation&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.orientation})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Background Image"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Upload New Background Image"}),e.jsx("input",{type:"file",accept:"image/*",onChange:C,className:"mt-1 block w-full text-sm text-gray-500 dark:text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100 dark:file:bg-gray-700 dark:file:text-gray-300"}),b&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:b,alt:"Preview",className:"h-32 w-auto rounded-lg border border-gray-300 dark:border-gray-600"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Or Select Existing Background Image"}),e.jsxs("select",{value:s.selected_background_image||"",onChange:a=>{r("selected_background_image",a.target.value),r("background_image",null),p(null)},className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",children:[e.jsx("option",{value:"",children:"Select existing background image..."}),h.map(a=>e.jsxs("option",{value:a.type==="uploaded"?`certificate-backgrounds/${a.filename}`:a.filename,children:[a.name," (",a.type,")"]},a.filename))]})]}),t.background_image&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.background_image})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),e.jsx("textarea",{value:s.description,onChange:a=>r("description",a.target.value),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"Enter certificate description"}),t.description&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.description})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notes"}),e.jsx("textarea",{value:s.notes,onChange:a=>r("notes",a.target.value),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"Enter any additional notes"}),t.notes&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.notes})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("a",{href:route("certificates.index"),className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 cursor-pointer",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:u,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer",children:u?"Creating...":"Create Certificate"})]})]})]})})})})]})}export{R as default};
