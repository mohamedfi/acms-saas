import{u as j,j as e,H as f,L as m}from"./app-iMhGBJ6t.js";import{A as N}from"./AuthenticatedLayout-BJ22lr0f.js";import{I as d}from"./InputError-K54hL2hl.js";import{I as i}from"./InputLabel-BkgnwNH0.js";import{P as _}from"./PrimaryButton-ENRN-WaD.js";import{T as u}from"./TextInput-CJsd0pPE.js";import"./ApplicationLogo-DW3cAdzV.js";import"./transition-BqJidYHT.js";function P({employees:l,courses:x}){var c;const{data:s,setData:r,post:b,processing:o,errors:t,reset:h}=j({title:"",description:"",assigned_to:"",assigned_by:"",priority:"normal",status:"pending",due_date:new Date(Date.now()+6048e5).toISOString().split("T")[0],task_type:"general",course_id:"",notes:""}),p=a=>{a.preventDefault(),b(route("tasks.store"),{onSuccess:()=>h()})},n=[{value:"course-related",label:"üéì Course Related",description:"Tasks related to course management"},{value:"administrative",label:"üìã Administrative",description:"General administrative tasks"},{value:"financial",label:"üí∞ Financial",description:"Financial and budgeting tasks"},{value:"general",label:"üìù General",description:"Other general tasks"}],k=[{value:"low",label:"üîΩ Low",color:"text-gray-600"},{value:"normal",label:"‚ûñ Normal",color:"text-blue-600"},{value:"high",label:"üî∫ High",color:"text-orange-600"}],v=[{value:"pending",label:"‚è≥ Pending",color:"text-yellow-600"},{value:"in_progress",label:"üîÑ In Progress",color:"text-blue-600"},{value:"completed",label:"‚úÖ Completed",color:"text-green-600"},{value:"cancelled",label:"‚ùå Cancelled",color:"text-red-600"},{value:"done",label:"‚úÖ Done",color:"text-green-600"},{value:"blocked",label:"üö´ Blocked",color:"text-gray-600"}];return e.jsxs(N,{header:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200",children:"‚ûï Create New Task"}),e.jsx(m,{href:route("tasks.index"),className:"inline-flex items-center px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white text-sm font-medium rounded-lg transition-colors duration-200",children:"‚¨ÖÔ∏è Back to Tasks"})]}),children:[e.jsx(f,{title:"Create Task"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Task Information"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Create a new task and assign it to an employee. All fields marked with * are required."})]}),e.jsxs("form",{onSubmit:p,className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(i,{htmlFor:"title",value:"Task Title *"}),e.jsx(u,{id:"title",name:"title",value:s.title,className:"mt-1 block w-full",isFocused:!0,onChange:a=>r("title",a.target.value),placeholder:"Enter task title..."}),e.jsx(d,{message:t.title,className:"mt-2"})]})}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"description",value:"Description"}),e.jsx("textarea",{id:"description",name:"description",value:s.description,onChange:a=>r("description",a.target.value),rows:4,className:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",placeholder:"Describe the task in detail..."}),e.jsx(d,{message:t.description,className:"mt-2"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"assigned_to",value:"Assign To *"}),e.jsxs("select",{id:"assigned_to",name:"assigned_to",value:s.assigned_to,onChange:a=>r("assigned_to",a.target.value),className:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",children:[e.jsx("option",{value:"",children:"Select employee"}),l.map(a=>e.jsxs("option",{value:a.id,children:["üë§"," ",a.full_name||`${a.first_name} ${a.last_name}`]},a.id))]}),e.jsx(d,{message:t.assigned_to,className:"mt-2"}),s.assigned_to&&e.jsx("div",{className:"mt-2 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:(()=>{var g;const a=l.find(y=>y.id==s.assigned_to);return a?e.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-200",children:[e.jsxs("div",{className:"font-medium",children:["üë§"," ",a.full_name||`${a.first_name} ${a.last_name}`]}),e.jsxs("div",{className:"text-blue-600 dark:text-blue-300",children:["üé≠"," ",(g=a.role)==null?void 0:g.display_name," ","‚Ä¢ üè¢"," ",a.department||"No Department"]})]}):null})()})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"task_type",value:"Task Type *"}),e.jsx("select",{id:"task_type",name:"task_type",value:s.task_type,onChange:a=>r("task_type",a.target.value),className:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",children:n.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))}),e.jsx(d,{message:t.task_type,className:"mt-2"}),e.jsx("div",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:(c=n.find(a=>a.value===s.task_type))==null?void 0:c.description})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"priority",value:"Priority *"}),e.jsx("select",{id:"priority",name:"priority",value:s.priority,onChange:a=>r("priority",a.target.value),className:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",children:k.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))}),e.jsx(d,{message:t.priority,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"status",value:"Status *"}),e.jsx("select",{id:"status",name:"status",value:s.status,onChange:a=>r("status",a.target.value),className:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",children:v.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))}),e.jsx(d,{message:t.status,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"due_date",value:"Due Date *"}),e.jsx(u,{id:"due_date",type:"date",name:"due_date",value:s.due_date,className:"mt-1 block w-full",required:!0,min:new Date().toISOString().split("T")[0],onChange:a=>r("due_date",a.target.value)}),e.jsx(d,{message:t.due_date,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"course_id",value:"Related Course"}),e.jsxs("select",{id:"course_id",name:"course_id",value:s.course_id,onChange:a=>r("course_id",a.target.value),className:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",disabled:s.task_type!=="course-related",children:[e.jsx("option",{value:"",children:"Select course (optional)"}),x.map(a=>e.jsx("option",{value:a.id,children:a.course_name},a.id))]}),e.jsx(d,{message:t.course_id,className:"mt-2"}),s.task_type!=="course-related"&&e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Course selection is only available for course-related tasks"})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"notes",value:"Additional Notes"}),e.jsx("textarea",{id:"notes",name:"notes",value:s.notes,onChange:a=>r("notes",a.target.value),rows:3,className:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",placeholder:"Any additional notes or instructions..."}),e.jsx(d,{message:t.notes,className:"mt-2"})]}),e.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200 dark:border-gray-700",children:[e.jsx(m,{href:route("tasks.index"),className:"inline-flex items-center px-4 py-2 bg-gray-300 hover:bg-gray-400 text-gray-700 text-sm font-medium rounded-lg transition-colors duration-200",children:"‚ùå Cancel"}),e.jsx(_,{className:"inline-flex items-center px-6 py-2 bg-blue-600 hover:bg-blue-700",disabled:o,children:o?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating..."]}):e.jsx(e.Fragment,{children:"‚úÖ Create Task"})})]})]})]})})})})]})}export{P as default};
