import{u as h,r as j,j as e,H as f,L as x}from"./app-iMhGBJ6t.js";import{A as N}from"./AuthenticatedLayout-BJ22lr0f.js";import"./ApplicationLogo-DW3cAdzV.js";import"./transition-BqJidYHT.js";function C({services:i,courses:c}){const{data:s,setData:n,post:m,processing:o,errors:t}=h({event_name:"",event_date:"",expected_attendees:1,course_id:"",special_requirements:"",services:[]}),[a,g]=j.useState([]),u=r=>{r.preventDefault(),m(route("catering.orders.store"))},p=r=>{const d=a.includes(r)?a.filter(l=>l!==r):[...a,r];g(d),n("services",d)},b=()=>a.reduce((r,d)=>{const l=i.find(y=>y.id===d);return r+(l?l.price_per_person*s.expected_attendees:0)},0);return e.jsxs(N,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200",children:"🆕 Create Catering Order"}),children:[e.jsx(f,{title:"Create Catering Order"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"mx-auto max-w-4xl sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Create New Order"}),e.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Set up a new catering order for your event."})]}),e.jsx(x,{href:route("catering.orders"),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"← Back to Orders"})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 shadow rounded-xl",children:e.jsxs("form",{onSubmit:u,className:"p-6 space-y-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 border-b border-gray-200 dark:border-gray-700 pb-2",children:"Event Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Event Name *"}),e.jsx("input",{type:"text",value:s.event_name,onChange:r=>n("event_name",r.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",required:!0}),t.event_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.event_name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Event Date *"}),e.jsx("input",{type:"date",value:s.event_date,onChange:r=>n("event_date",r.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",required:!0}),t.event_date&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.event_date})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Expected Attendees *"}),e.jsx("input",{type:"number",min:"1",value:s.expected_attendees,onChange:r=>n("expected_attendees",parseInt(r.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",required:!0}),t.expected_attendees&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.expected_attendees})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Course (Optional)"}),e.jsxs("select",{value:s.course_id,onChange:r=>n("course_id",r.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"",children:"Select a course"}),c&&c.map(r=>e.jsxs("option",{value:r.id,children:[r.course_name," (",r.start_date," - ",r.end_date,")"]},r.id))]}),t.course_id&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.course_id})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Special Requirements"}),e.jsx("textarea",{value:s.special_requirements,onChange:r=>n("special_requirements",r.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Any special dietary requirements, setup needs, or other requests..."}),t.special_requirements&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.special_requirements})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 border-b border-gray-200 dark:border-gray-700 pb-2",children:"Select Services"}),i&&i.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.map(r=>e.jsxs("label",{className:`flex items-start space-x-3 p-4 border rounded-lg cursor-pointer transition-colors ${a.includes(r.id)?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"}`,children:[e.jsx("input",{type:"checkbox",checked:a.includes(r.id),onChange:()=>p(r.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:r.name}),e.jsxs("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:["$",r.price_per_person,"/person"]})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:r.description}),e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500 dark:text-gray-400",children:[e.jsxs("span",{children:["Type: ",r.type]}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:["Prep: ",r.preparation_time_minutes,"min"]})]})]})]},r.id))}):e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No services available. Please add services first."})})]}),a.length>0&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 border-b border-gray-200 dark:border-gray-700 pb-2",children:"Order Summary"}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:e.jsxs("div",{className:"space-y-3",children:[a.map(r=>{const d=i.find(l=>l.id===r);return d?e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[d.name," × ",s.expected_attendees]}),e.jsxs("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:["$",(d.price_per_person*s.expected_attendees).toFixed(2)]})]},r):null}),e.jsx("div",{className:"border-t border-gray-300 dark:border-gray-600 pt-3",children:e.jsxs("div",{className:"flex justify-between items-center font-bold text-lg",children:[e.jsx("span",{children:"Total:"}),e.jsxs("span",{className:"text-green-600 dark:text-green-400",children:["$",b().toFixed(2)]})]})})]})})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200 dark:border-gray-700",children:[e.jsx(x,{href:route("catering.orders"),className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:o||a.length===0,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Creating...":"Create Order"})]})]})})]})})]})}export{C as default};
