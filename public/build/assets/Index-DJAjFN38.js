import{r as i,u as N,j as e,H as k,L as l}from"./app-BvofbhrV.js";import{A as b}from"./AuthenticatedLayout-Bhu4KWM0.js";import"./ApplicationLogo-COzY0AUK.js";import"./transition-CjfadS_U.js";function A({departments:g,stats:a}){const[d,n]=i.useState(""),[r,c]=i.useState(""),[x,o]=i.useState("name"),{delete:h,patch:u}=N(),y=t=>{confirm(`Are you sure you want to delete ${t.name}?`)&&h(route("departments.destroy",t.id))},p=t=>{u(route("departments.toggle-status",t.id))},m=g.filter(t=>{const s=t.name.toLowerCase().includes(d.toLowerCase())||t.code&&t.code.toLowerCase().includes(d.toLowerCase()),f=r===""||r==="active"&&t.is_active||r==="inactive"&&!t.is_active;return s&&f}).sort((t,s)=>{switch(x){case"name":return t.name.localeCompare(s.name);case"code":return(t.code||"").localeCompare(s.code||"");case"employees":return s.employees_count-t.employees_count;case"budget":return(s.budget||0)-(t.budget||0);default:return 0}}),j=t=>t?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",v=t=>t>=90?"text-red-600 dark:text-red-400":t>=75?"text-orange-600 dark:text-orange-400":t>=50?"text-yellow-600 dark:text-yellow-400":"text-green-600 dark:text-green-400";return e.jsxs(b,{header:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200",children:"ğŸ¢ Department Management"}),e.jsx(l,{href:route("departments.create"),className:"inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors duration-200",children:"â• Add Department"})]}),children:[e.jsx(k,{title:"Department Management"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-md flex items-center justify-center",children:e.jsx("span",{className:"text-white text-sm font-bold",children:"ğŸ¢"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Departments"}),e.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:a.total_departments})]})]})})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-md flex items-center justify-center",children:e.jsx("span",{className:"text-white text-sm font-bold",children:"âœ…"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Active Departments"}),e.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:a.active_departments})]})]})})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-md flex items-center justify-center",children:e.jsx("span",{className:"text-white text-sm font-bold",children:"ğŸ‘¥"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Employees"}),e.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:a.total_employees})]})]})})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-md flex items-center justify-center",children:e.jsx("span",{className:"text-white text-sm font-bold",children:"ğŸ‘¨â€ğŸ’¼"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"With Managers"}),e.jsx("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:a.departments_with_managers})]})]})})})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg mb-6",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ğŸ” Search"}),e.jsx("input",{type:"text",value:d,onChange:t=>n(t.target.value),placeholder:"Search by name or code...",className:"w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-100 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ğŸ“Š Status"}),e.jsxs("select",{value:r,onChange:t=>c(t.target.value),className:"w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ğŸ”„ Sort By"}),e.jsxs("select",{value:x,onChange:t=>o(t.target.value),className:"w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",children:[e.jsx("option",{value:"name",children:"Name"}),e.jsx("option",{value:"code",children:"Code"}),e.jsx("option",{value:"employees",children:"Employee Count"}),e.jsx("option",{value:"budget",children:"Budget"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:()=>{n(""),c(""),o("name")},className:"w-full bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-md transition-colors duration-200",children:"ğŸ—‘ï¸ Clear Filters"})})]})})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4",children:"ğŸ“‹ Departments List"}),m.length===0?e.jsx("div",{className:"text-center py-8",children:e.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-lg",children:"No departments found matching your criteria."})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Department"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Manager"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Employees"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Budget"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:m.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:t.name}),t.description&&e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 truncate max-w-xs",children:t.description})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",children:t.code||"N/A"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900 dark:text-gray-100",children:t.manager?e.jsxs("span",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2",children:"ğŸ‘¨â€ğŸ’¼"}),t.manager.first_name," ",t.manager.last_name]}):e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"No Manager"})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-gray-900 dark:text-gray-100",children:[e.jsx("span",{className:"font-medium",children:t.employees_count}),e.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:[" ","employees"]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900 dark:text-gray-100",children:t.budget?e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:["EGP"," ",parseFloat(t.budget).toLocaleString()]}),t.total_salary&&e.jsxs("div",{className:`text-xs ${v(t.budget_utilization)}`,children:[t.budget_utilization,"% utilized"]})]}):e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"No Budget"})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${j(t.is_active)}`,children:t.is_active?"Active":"Inactive"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(l,{href:route("departments.show",t.id),className:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300",children:"ğŸ‘ï¸ View"}),e.jsx(l,{href:route("departments.edit",t.id),className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300",children:"âœï¸ Edit"}),e.jsx("button",{onClick:()=>p(t),className:`${t.is_active?"text-orange-600 hover:text-orange-900 dark:text-orange-400 dark:hover:text-orange-300":"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300"}`,children:t.is_active?"â¸ï¸ Deactivate":"â–¶ï¸ Activate"}),e.jsx("button",{onClick:()=>y(t),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:"ğŸ—‘ï¸ Delete"})]})})]},t.id))})]})})]})})]})})]})}export{A as default};
