import{r as o,u as j,j as e,H as N,L as c}from"./app-CimGcIIJ.js";import{A as k}from"./AuthenticatedLayout-DuDliEYG.js";import"./ApplicationLogo-CIKOWYl-.js";import"./transition-DIRcOHmM.js";function S(){const[l,g]=o.useState(null),[d,u]=o.useState([]),x=["Afghan","Albanian","Algerian","American","Andorran","Angolan","Antiguans","Argentinean","Armenian","Australian","Austrian","Azerbaijani","Bahamian","Bahraini","Bangladeshi","Barbadian","Barbudans","Batswana","Belarusian","Belgian","Belizean","Beninese","Bhutanese","Bolivian","Bosnian","Brazilian","British","Bruneian","Bulgarian","Burkinabe","Burmese","Burundian","Cambodian","Cameroonian","Canadian","Cape Verdean","Central African","Chadian","Chilean","Chinese","Colombian","Comoran","Congolese","Costa Rican","Croatian","Cuban","Cypriot","Czech","Danish","Djibouti","Dominican","Dutch","East Timorese","Ecuadorean","Egyptian","Emirian","Equatorial Guinean","Eritrean","Estonian","Ethiopian","Fijian","Filipino","Finnish","French","Gabonese","Gambian","Georgian","German","Ghanaian","Greek","Grenadian","Guatemalan","Guinea-Bissauan","Guinean","Guyanese","Haitian","Herzegovinian","Honduran","Hungarian","I-Kiribati","Icelander","Indian","Indonesian","Iranian","Iraqi","Irish","Israeli","Italian","Ivorian","Jamaican","Japanese","Jordanian","Kazakhstani","Kenyan","Kittian and Nevisian","Kuwaiti","Kyrgyz","Laotian","Latvian","Lebanese","Liberian","Libyan","Liechtensteiner","Lithuanian","Luxembourger","Macedonian","Malagasy","Malawian","Malaysian","Maldivan","Malian","Maltese","Marshallese","Mauritanian","Mauritian","Mexican","Micronesian","Moldovan","Monacan","Mongolian","Moroccan","Mosotho","Motswana","Mozambican","Namibian","Nauruan","Nepalese","New Zealander","Ni-Vanuatu","Nicaraguan","Nigerian","Nigerien","North Korean","Northern Irish","Norwegian","Omani","Pakistani","Palauan","Panamanian","Papua New Guinean","Paraguayan","Peruvian","Polish","Portuguese","Qatari","Romanian","Russian","Rwandan","Saint Lucian","Salvadoran","Samoan","San Marinese","Sao Tomean","Saudi","Scottish","Senegalese","Serbian","Seychellois","Sierra Leonean","Singaporean","Slovakian","Slovenian","Solomon Islander","Somali","South African","South Korean","Spanish","Sri Lankan","Sudanese","Surinamer","Swazi","Swedish","Swiss","Syrian","Taiwanese","Tajik","Tanzanian","Thai","Togolese","Tongan","Trinidadian or Tobagonian","Tunisian","Turkish","Tuvaluan","Ugandan","Ukrainian","Uruguayan","Uzbekistani","Venezuelan","Vietnamese","Welsh","Yemenite","Zambian","Zimbabwean"],{data:r,setData:s,post:h,processing:m,errors:t}=j({full_name:"",email:"",phone:"",nationality:"",passport_no:"",visa_status:"required",profile_image:null,passport_id_document:null,course_ids:[]});o.useEffect(()=>{const a=window.location.origin+"/pmec2/public";fetch(`${a}/api/courses`).then(i=>{if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);return i.json()}).then(i=>{console.log("Debug - Courses data received:",i),u(i.data||[])}).catch(i=>{console.error("Error fetching courses:",i)})},[]);const p=a=>{const i=a.target.files[0];if(i){s("profile_image",i);const n=new FileReader;n.onloadend=()=>{g(n.result)},n.readAsDataURL(i)}},f=a=>{const i=a.target.files[0];i&&s("passport_id_document",i)},b=a=>{a.preventDefault(),h(route("participants.store"))};return e.jsxs(k,{header:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200",children:"👤 Add New Participant"}),e.jsx(c,{href:route("participants.index"),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-md text-sm font-medium",children:"← Back to List"})]}),children:[e.jsx(N,{title:"Add New Participant"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden bg-white shadow-sm sm:rounded-lg dark:bg-gray-800",children:e.jsx("div",{className:"p-6 text-gray-900 dark:text-gray-100",children:e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"📸 Profile Image"}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsx("div",{className:"flex-shrink-0",children:l?e.jsx("img",{src:l,alt:"Preview",className:"h-24 w-24 rounded-full object-cover border-2 border-gray-300"}):e.jsx("div",{className:"h-24 w-24 rounded-full bg-gray-300 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-500 text-2xl",children:"👤"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"profile_image",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Upload Profile Image"}),e.jsx("input",{type:"file",id:"profile_image",accept:"image/*",onChange:p,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100 dark:file:bg-indigo-900 dark:file:text-indigo-300"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"JPG, PNG, GIF up to 5MB"}),t.profile_image&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.profile_image})]})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"🛂 Passport/ID Document"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"passport_id_document",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Upload Passport or ID Document *"}),e.jsx("input",{type:"file",id:"passport_id_document",accept:".pdf,.jpg,.jpeg,.png,.gif,.doc,.docx",onChange:f,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100 dark:file:bg-indigo-900 dark:file:text-indigo-300",required:!0}),e.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"📄 PDF, JPG, PNG, GIF, DOC, DOCX up to 10MB"}),e.jsxs("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:["💡 ",e.jsx("strong",{children:"Required:"})," ","Upload a clear copy of passport, national ID, or other official identification document"]}),t.passport_id_document&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.passport_id_document})]})})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"📋 Personal Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"full_name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Full Name *"}),e.jsx("input",{type:"text",id:"full_name",value:r.full_name,onChange:a=>s("full_name",a.target.value),className:"mt-1 block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm shadow-sm",required:!0}),t.full_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.full_name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email Address *"}),e.jsx("input",{type:"email",id:"email",value:r.email,onChange:a=>s("email",a.target.value),className:"mt-1 block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm shadow-sm",required:!0}),t.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Phone Number"}),e.jsx("input",{type:"tel",id:"phone",value:r.phone,onChange:a=>s("phone",a.target.value),className:"mt-1 block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm shadow-sm"}),t.phone&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.phone})]})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"🛂 Travel Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"nationality",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nationality *"}),e.jsxs("select",{id:"nationality",value:r.nationality,onChange:a=>s("nationality",a.target.value),className:"mt-1 block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm shadow-sm",required:!0,children:[e.jsx("option",{value:"",children:"Select Nationality"}),x.map(a=>e.jsx("option",{value:a,children:a},a))]}),t.nationality&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.nationality})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"passport_no",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"ID/Passport Number *"}),e.jsx("input",{type:"text",id:"passport_no",value:r.passport_no,onChange:a=>s("passport_no",a.target.value),placeholder:"National ID or Passport Number",className:"mt-1 block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm shadow-sm",required:!0}),t.passport_no&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.passport_no})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"visa_status",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Visa Status"}),e.jsxs("div",{className:"mt-1 p-3 bg-gray-100 dark:bg-gray-600 rounded-md",children:[e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["💡"," ",e.jsx("strong",{children:"Automatic:"})," ","Visa status is automatically determined based on nationality."]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["🇪🇬"," ",e.jsx("strong",{children:"Egyptian:"})," ","Not Required"]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["🌍"," ",e.jsx("strong",{children:"Other Nationalities:"})," ","Required"]})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"📚 Enroll in Courses"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Select Courses"}),e.jsx("select",{multiple:!0,value:r.course_ids,onChange:a=>{const i=Array.from(a.target.selectedOptions,n=>parseInt(n.value));s("course_ids",i)},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white dark:focus:ring-indigo-600 dark:focus:border-indigo-600",size:"4",children:d.map(a=>e.jsxs("option",{value:a.id,children:[a.name," -"," ",a.code||"No Code"]},a.id))}),e.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Hold Ctrl (or Cmd on Mac) to select multiple courses"})]}),r.course_ids.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Selected Courses:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.course_ids.map(a=>{const i=d.find(n=>n.id===a);return i?e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200",children:[i.name,e.jsx("button",{type:"button",onClick:()=>{const n=r.course_ids.filter(y=>y!==a);s("course_ids",n)},className:"ml-1.5 inline-flex items-center justify-center w-4 h-4 rounded-full text-indigo-400 hover:bg-indigo-200 hover:text-indigo-500 dark:hover:bg-indigo-800 dark:hover:text-indigo-300",children:"×"})]},a):null})})]})]}),t.course_ids&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.course_ids})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx(c,{href:route("participants.index"),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-600",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:m,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:m?"Creating...":"Create Participant"})]})]})})})})})]})}export{S as default};
