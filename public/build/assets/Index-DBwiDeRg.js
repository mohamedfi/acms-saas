import{u as j,j as e,H as v,L as d}from"./app-CR6Cccup.js";import{A as k}from"./AuthenticatedLayout-hRvAu0dY.js";import"./ApplicationLogo-C8egk-yV.js";import"./transition-CwUFHmZ4.js";function P({prices:t,companies:o,vehicleTypes:g,capacities:m,fromLocations:N,toLocations:f,priceTypes:p,stats:i,filters:a}){const{data:l,setData:s,get:c}=j({company_id:a.company_id||"",vehicle_type:a.vehicle_type||"",capacity:a.capacity||"",from_location:a.from_location||"",to_location:a.to_location||"",price_type:a.price_type||"",is_active:a.is_active||"",min_price:a.min_price||"",max_price:a.max_price||""}),h=()=>{c(route("transportation.pricing.index"),{preserveState:!0,preserveScroll:!0})},y=()=>{s({company_id:"",vehicle_type:"",capacity:"",from_location:"",to_location:"",price_type:"",is_active:"",min_price:"",max_price:""}),c(route("transportation.pricing.index"),{preserveState:!0,preserveScroll:!0})},x=(r,n="AED")=>r?new Intl.NumberFormat("en-US",{style:"currency",currency:n}).format(r):"N/A",u=r=>r.is_active?r.is_available?r.is_currently_valid?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-200":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-200",b=r=>r.is_active?r.is_available?r.is_currently_valid?"Active":"Not Valid Now":"Unavailable":"Inactive";return e.jsxs(k,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200",children:"💰 Rental Car Pricing Management"}),children:[e.jsx(v,{title:"Rental Car Pricing"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Rental Car Pricing"}),e.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Manage route-based pricing for rental car companies"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(d,{href:route("transportation.pricing.create"),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"➕ Add Pricing Rule"}),e.jsx(d,{href:route("transportation.companies.index"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"🏢 Companies"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:e.jsx("span",{className:"text-2xl",children:"💰"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Pricing Rules"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:i.total_prices})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900 rounded-lg",children:e.jsx("span",{className:"text-2xl",children:"✅"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Active Rules"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:i.active_prices})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900 rounded-lg",children:e.jsx("span",{className:"text-2xl",children:"🏢"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Companies with Pricing"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:i.companies_with_pricing})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-900 rounded-lg",children:e.jsx("span",{className:"text-2xl",children:"📊"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Average Price"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:x(i.average_price)})]})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg mb-8",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"🔍 Filter Pricing Rules"})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Company"}),e.jsxs("select",{value:l.company_id,onChange:r=>s("company_id",r.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"",children:"All Companies"}),o.map(r=>e.jsx("option",{value:r.id,children:r.name},r.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Vehicle Type"}),e.jsxs("select",{value:l.vehicle_type,onChange:r=>s("vehicle_type",r.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"",children:"All Types"}),g.map(r=>e.jsx("option",{value:r,children:r},r))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Capacity"}),e.jsxs("select",{value:l.capacity,onChange:r=>s("capacity",r.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"",children:"All Capacities"}),m.map(r=>e.jsxs("option",{value:r,children:[r," seats"]},r))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"From Location"}),e.jsx("input",{type:"text",value:l.from_location,onChange:r=>s("from_location",r.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"e.g., Airport"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"To Location"}),e.jsx("input",{type:"text",value:l.to_location,onChange:r=>s("to_location",r.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"e.g., Dokki"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Price Type"}),e.jsxs("select",{value:l.price_type,onChange:r=>s("price_type",r.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"",children:"All Types"}),p.map(r=>e.jsx("option",{value:r,children:r.replace("_"," ").toUpperCase()},r))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Min Price (AED)"}),e.jsx("input",{type:"number",value:l.min_price,onChange:r=>s("min_price",r.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Max Price (AED)"}),e.jsx("input",{type:"number",value:l.max_price,onChange:r=>s("max_price",r.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"1000"})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:h,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"🔍 Apply Filters"}),e.jsx("button",{onClick:y,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"🗑️ Clear Filters"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:["Pricing Rules (",t.total," total)"]})}),t.data.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Company & Vehicle"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Route"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Price"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:t.data.map(r=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:r.rental_company.name}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[r.vehicle_type," ","(",r.capacity," ","seats)"]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900 dark:text-gray-100",children:r.route_display})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:x(r.price,r.currency)}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:r.price_type.replace("_"," ")})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${u(r)}`,children:b(r)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(d,{href:route("transportation.pricing.show",r.id),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:"View"}),e.jsx(d,{href:route("transportation.pricing.edit",r.id),className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300",children:"Edit"})]})})]},r.id))})]})}):e.jsxs("div",{className:"p-12 text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"💰"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"No Pricing Rules Found"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:Object.values(a).some(r=>r)?"No pricing rules match your current filters.":"No pricing rules have been created yet."}),e.jsx(d,{href:route("transportation.pricing.create"),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"➕ Create First Pricing Rule"})]}),t.data.length>0&&t.last_page>1&&e.jsx("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Showing ",t.from," to ",t.to," of"," ",t.total," results"]}),e.jsx("div",{className:"flex space-x-2",children:t.links.map((r,n)=>e.jsx(d,{href:r.url||"#",className:`px-3 py-1 text-sm rounded ${r.active?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"}`,dangerouslySetInnerHTML:{__html:r.label}},n))})]})})]})]})})]})}export{P as default};
