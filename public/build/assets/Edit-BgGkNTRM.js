import{u as I,r as f,j as e,H as T,L as _}from"./app-DF8BeOs5.js";import{A as B}from"./AuthenticatedLayout-BClcgEtp.js";import{I as r}from"./InputLabel-Bg2WNE0f.js";import{T as c}from"./TextInput-DgZjTvQA.js";import{I as n}from"./InputError-DFKEJ5by.js";import{P as D}from"./PrimaryButton-DmB6F_xu.js";import{C as m,b as g,c as u,a as x,B as q}from"./badge-CiSagMGu.js";import"./ApplicationLogo-BvOWYT9S.js";import"./transition-DmP4YiK4.js";function K({auth:b,hall:t,trainers:N,trainingPrograms:j}){const{data:a,setData:i,put:k,processing:v,errors:d}=I({name:t.name||"",code:t.code||"",description:t.description||"",address:t.address||"",city:t.city||"",capacity:t.capacity||30,facilities:t.facilities||[],contact_person:t.contact_person||"",contact_phone:t.contact_phone||"",contact_email:t.contact_email||"",assigned_employee_id:t.assigned_employee_id||"",assigned_role:t.assigned_role||"",assignment_date:t.assignment_date||"",assignment_notes:t.assignment_notes||"",specialized_courses:t.specialized_courses||[],is_general_purpose:t.is_general_purpose||!1,is_active:t.is_active!==void 0?t.is_active:!0,sort_order:t.sort_order||0}),[p,y]=f.useState(""),[h,w]=f.useState(""),C=s=>{s.preventDefault(),k(route("training-halls.update",t.id))},F=()=>{p.trim()&&!a.facilities.includes(p.trim())&&(i("facilities",[...a.facilities,p.trim()]),y(""))},z=s=>{i("facilities",a.facilities.filter((o,l)=>l!==s))},S=()=>{h&&!a.specialized_courses.includes(h)&&(i("specialized_courses",[...a.specialized_courses,h]),w(""))},A=s=>{i("specialized_courses",a.specialized_courses.filter((o,l)=>l!==s))},E=[{value:"manager",label:"Manager"},{value:"coordinator",label:"Coordinator"},{value:"supervisor",label:"Supervisor"},{value:"assistant",label:"Assistant"}];return e.jsxs(B,{user:b.user,children:[e.jsx(T,{title:`Edit Training Hall - ${t.name}`}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Edit Training Hall"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:["Update information for ",t.name]})]}),e.jsx(_,{href:route("training-halls.show",t.id),className:"inline-flex items-center px-4 py-2 bg-gray-800 dark:bg-gray-200 border border-transparent rounded-md font-semibold text-xs text-white dark:text-gray-800 uppercase tracking-widest hover:bg-gray-700 dark:hover:bg-white focus:bg-gray-700 dark:focus:bg-white active:bg-gray-900 dark:active:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition ease-in-out duration-150",children:"← Back to Hall"})]}),e.jsxs("form",{onSubmit:C,className:"space-y-6",children:[e.jsxs(m,{children:[e.jsx(g,{children:e.jsx(u,{children:"Basic Information"})}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"name",value:"Hall Name"}),e.jsx(c,{id:"name",type:"text",className:"mt-1 block w-full",value:a.name,onChange:s=>i("name",s.target.value),required:!0}),e.jsx(n,{message:d.name,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"code",value:"Hall Code"}),e.jsx(c,{id:"code",type:"text",className:"mt-1 block w-full",value:a.code,onChange:s=>i("code",s.target.value),required:!0}),e.jsx(n,{message:d.code,className:"mt-2"})]})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"description",value:"Description"}),e.jsx("textarea",{id:"description",className:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-white rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",rows:"3",value:a.description,onChange:s=>i("description",s.target.value)}),e.jsx(n,{message:d.description,className:"mt-2"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"city",value:"City"}),e.jsx(c,{id:"city",type:"text",className:"mt-1 block w-full",value:a.city,onChange:s=>i("city",s.target.value),required:!0}),e.jsx(n,{message:d.city,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"capacity",value:"Capacity"}),e.jsx(c,{id:"capacity",type:"number",className:"mt-1 block w-full",value:a.capacity,onChange:s=>i("capacity",parseInt(s.target.value)),min:"1",max:"1000",required:!0}),e.jsx(n,{message:d.capacity,className:"mt-2"})]})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"address",value:"Address"}),e.jsx(c,{id:"address",type:"text",className:"mt-1 block w-full",value:a.address,onChange:s=>i("address",s.target.value)}),e.jsx(n,{message:d.address,className:"mt-2"})]})]})]}),e.jsxs(m,{children:[e.jsx(g,{children:e.jsx(u,{children:"Facilities"})}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(c,{type:"text",placeholder:"Add a facility",value:p,onChange:s=>y(s.target.value),className:"flex-1"}),e.jsx("button",{type:"button",onClick:F,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Add"})]}),a.facilities.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:a.facilities.map((s,o)=>e.jsxs(q,{className:"flex items-center space-x-1",children:[e.jsx("span",{children:s}),e.jsx("button",{type:"button",onClick:()=>z(o),className:"ml-1 text-red-500 hover:text-red-700",children:"×"})]},o))})]})]}),e.jsxs(m,{children:[e.jsx(g,{children:e.jsx(u,{children:"Contact Information"})}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"contact_person",value:"Contact Person"}),e.jsx(c,{id:"contact_person",type:"text",className:"mt-1 block w-full",value:a.contact_person,onChange:s=>i("contact_person",s.target.value)}),e.jsx(n,{message:d.contact_person,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"contact_phone",value:"Contact Phone"}),e.jsx(c,{id:"contact_phone",type:"tel",className:"mt-1 block w-full",value:a.contact_phone,onChange:s=>i("contact_phone",s.target.value)}),e.jsx(n,{message:d.contact_phone,className:"mt-2"})]})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"contact_email",value:"Contact Email"}),e.jsx(c,{id:"contact_email",type:"email",className:"mt-1 block w-full",value:a.contact_email,onChange:s=>i("contact_email",s.target.value)}),e.jsx(n,{message:d.contact_email,className:"mt-2"})]})]})]}),e.jsxs(m,{children:[e.jsx(g,{children:e.jsx(u,{children:"Employee Assignment"})}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"assigned_employee_id",value:"Assigned Employee"}),e.jsxs("select",{id:"assigned_employee_id",value:a.assigned_employee_id,onChange:s=>i("assigned_employee_id",s.target.value),className:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-white rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[e.jsx("option",{value:"",children:"Select an employee"}),N.map(s=>e.jsxs("option",{value:s.id,children:[s.full_name," - ",s.position]},s.id))]}),e.jsx(n,{message:d.assigned_employee_id,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"assigned_role",value:"Assignment Role"}),e.jsxs("select",{id:"assigned_role",value:a.assigned_role,onChange:s=>i("assigned_role",s.target.value),className:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-white rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[e.jsx("option",{value:"",children:"Select a role"}),E.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))]}),e.jsx(n,{message:d.assigned_role,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"assignment_date",value:"Assignment Date"}),e.jsx("input",{id:"assignment_date",type:"date",value:a.assignment_date,onChange:s=>i("assignment_date",s.target.value),className:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-white rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),e.jsx(n,{message:d.assignment_date,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"assignment_notes",value:"Assignment Notes"}),e.jsx("textarea",{id:"assignment_notes",rows:"2",value:a.assignment_notes,onChange:s=>i("assignment_notes",s.target.value),className:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-white rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Notes about this employee assignment..."}),e.jsx(n,{message:d.assignment_notes,className:"mt-2"})]})]})]})]}),e.jsxs(m,{children:[e.jsx(g,{children:e.jsx(u,{children:"Course Specialization"})}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"is_general_purpose",type:"checkbox",checked:a.is_general_purpose,onChange:s=>i("is_general_purpose",s.target.checked),className:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),e.jsx("label",{htmlFor:"is_general_purpose",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"This hall can host any type of course (General Purpose)"})]}),!a.is_general_purpose&&e.jsxs("div",{children:[e.jsx(r,{value:"Specialized Courses"}),e.jsxs("div",{className:"mt-2 space-y-2",children:[a.specialized_courses.map((s,o)=>{const l=j.find(H=>H.id==s);return e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:(l==null?void 0:l.name)||`Course ID: ${s}`}),e.jsx("button",{type:"button",onClick:()=>A(o),className:"text-red-600 hover:text-red-800 text-sm",children:"✕"})]},o)}),e.jsxs("select",{onChange:s=>{s.target.value&&!a.specialized_courses.includes(s.target.value)&&(S(s.target.value),s.target.value="")},className:"mt-2 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-white rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[e.jsx("option",{value:"",children:"Add a specialized course"}),j.map(s=>e.jsxs("option",{value:s.id,children:[s.name," (",s.code,")"]},s.id))]})]})]})]})]}),e.jsxs(m,{children:[e.jsx(g,{children:e.jsx(u,{children:"Status & Settings"})}),e.jsx(x,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"is_active",type:"checkbox",checked:a.is_active,onChange:s=>i("is_active",s.target.checked),className:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),e.jsx("label",{htmlFor:"is_active",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Active"})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"sort_order",value:"Sort Order"}),e.jsx(c,{id:"sort_order",type:"number",className:"mt-1 block w-full",value:a.sort_order,onChange:s=>i("sort_order",parseInt(s.target.value)),min:"0"}),e.jsx(n,{message:d.sort_order,className:"mt-2"})]})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx(_,{href:route("training-halls.show",t.id),className:"inline-flex items-center px-4 py-2 bg-gray-800 dark:bg-gray-200 border border-transparent rounded-md font-semibold text-xs text-white dark:text-gray-800 uppercase tracking-widest hover:bg-gray-700 dark:hover:bg-white focus:bg-gray-700 dark:focus:bg-white active:bg-gray-900 dark:active:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition ease-in-out duration-150",children:"Cancel"}),e.jsx(D,{disabled:v,children:v?"Updating...":"Update Training Hall"})]})]})]})})]})}export{K as default};
