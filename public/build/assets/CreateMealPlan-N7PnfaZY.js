import{r as N,u as _,j as e,H as w,L as u}from"./app-DF8BeOs5.js";import{A as C}from"./AuthenticatedLayout-BClcgEtp.js";import"./ApplicationLogo-BvOWYT9S.js";import"./transition-DmP4YiK4.js";function M({cateringServices:x}){const[n,c]=N.useState([]),{data:t,setData:a,post:b,processing:g,errors:s}=_({name:"",description:"",duration:"daily",duration_value:1,total_price:"",price_per_day:"",includes_breakfast:!1,includes_lunch:!1,includes_dinner:!1,includes_snacks:!1,includes_beverages:!1,special_notes:"",is_active:!0,items:[]}),h=r=>{r.preventDefault(),b(route("catering.meal-plans.store"))},y=()=>{const r={id:Date.now(),catering_service_id:"",quantity:1,notes:""};c([...n,r])},f=r=>{c(n.filter(d=>d.id!==r))},o=(r,d,l)=>{c(n.map(i=>i.id===r?{...i,[d]:l}:i))},m=()=>{let r=0,d=parseInt(t.duration_value)||1;n.forEach(i=>{const p=x.find(v=>v.id==i.catering_service_id);p&&(r+=p.price_per_person*i.quantity*d)});const l=d>0?r/d:0;a({...t,total_price:r.toFixed(2),price_per_day:l.toFixed(2),items:n})},k=r=>{a("duration",r),r==="daily"?a("duration_value",1):r==="weekly"?a("duration_value",7):r==="monthly"&&a("duration_value",30),m()},j=r=>{a("duration_value",r),m()};return e.jsxs(C,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200",children:"📋 Create Meal Plan"}),children:[e.jsx(w,{title:"Create Meal Plan"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"mx-auto max-w-4xl sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Create New Meal Plan"}),e.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Design a comprehensive meal plan package with multiple services."})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(u,{href:route("catering.meal-plans"),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"← Back to Meal Plans"}),e.jsx(u,{href:route("catering.index"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Catering Dashboard"})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg",children:e.jsxs("form",{onSubmit:h,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Plan Name *"}),e.jsx("input",{type:"text",value:t.name,onChange:r=>a("name",r.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"e.g., Premium Weekly Package",required:!0}),s.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Duration Type *"}),e.jsxs("select",{value:t.duration,onChange:r=>k(r.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",required:!0,children:[e.jsx("option",{value:"daily",children:"Daily"}),e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"custom",children:"Custom"})]}),s.duration&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.duration})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Duration Value *"}),e.jsx("input",{type:"number",value:t.duration_value,onChange:r=>j(r.target.value),min:"1",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"1",required:!0}),s.duration_value&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.duration_value})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Total Price *"}),e.jsx("input",{type:"number",value:t.total_price,onChange:r=>a("total_price",r.target.value),step:"0.01",min:"0",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"0.00",required:!0}),s.total_price&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.total_price})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Price Per Day *"}),e.jsx("input",{type:"number",value:t.price_per_day,onChange:r=>a("price_per_day",r.target.value),step:"0.01",min:"0",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"0.00",required:!0}),s.price_per_day&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.price_per_day})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),e.jsx("textarea",{value:t.description,onChange:r=>a("description",r.target.value),rows:"3",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Describe what this meal plan includes..."}),s.description&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.description})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4",children:"Meals Included"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.includes_breakfast,onChange:r=>a("includes_breakfast",r.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Breakfast"})]}),e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.includes_lunch,onChange:r=>a("includes_lunch",r.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Lunch"})]}),e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.includes_dinner,onChange:r=>a("includes_dinner",r.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Dinner"})]}),e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.includes_snacks,onChange:r=>a("includes_snacks",r.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Snacks"})]}),e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.includes_beverages,onChange:r=>a("includes_beverages",r.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Beverages"})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Meal Plan Items"}),e.jsx("button",{type:"button",onClick:y,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"➕ Add Item"})]}),n.length>0?e.jsx("div",{className:"space-y-4",children:n.map((r,d)=>e.jsx("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4 bg-gray-50 dark:bg-gray-700",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Service *"}),e.jsxs("select",{value:r.catering_service_id,onChange:l=>o(r.id,"catering_service_id",l.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",required:!0,children:[e.jsx("option",{value:"",children:"Select Service"}),x.map(l=>e.jsxs("option",{value:l.id,children:[l.name," - $",l.price_per_person,"/person"]},l.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Quantity *"}),e.jsx("input",{type:"number",value:r.quantity,onChange:l=>o(r.id,"quantity",l.target.value),min:"1",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notes"}),e.jsx("input",{type:"text",value:r.notes,onChange:l=>o(r.id,"notes",l.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Special instructions..."})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{type:"button",onClick:()=>f(r.id),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"🗑️ Remove"})})]})},r.id))}):e.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg",children:[e.jsx("div",{className:"text-4xl mb-2",children:"🍽️"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:'No items added yet. Click "Add Item" to start building your meal plan.'})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Special Notes"}),e.jsx("textarea",{value:t.special_notes,onChange:r=>a("special_notes",r.target.value),rows:"3",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Any special instructions, dietary requirements, or notes..."}),s.special_notes&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.special_notes})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.is_active,onChange:r=>a("is_active",r.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Active Meal Plan"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[e.jsx(u,{href:route("catering.meal-plans"),className:"px-6 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:g,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:g?"Creating Meal Plan...":"Create Meal Plan"})]})]})})]})})]})}export{M as default};
